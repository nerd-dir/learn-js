<!DOCTYPE html>
<html lang="en" class="no-js">

<!-- /carousel-switch-slides/  Mon, 24 Jan 2022 10:01:39 GMT -->
<!-- OpenDir --><meta http-equiv="content-type" content="text/html;charset=UTF-8" /><!-- /OpenDir -->
<head>
    <meta charset="UTF-8">
<meta content="IE=edge" http-equiv="X-UA-Compatible"/>
<meta content="width=device-width, initial-scale=1" name="viewport"/>

<title>🛠 Carousel: Switching slides with JavaScript | Learn JavaScript</title>
<meta name="description" content="Learn JavaScript student portal"/>
<link rel="canonical" href="index.html">


<!-- Favicons -->
<link rel="apple-touch-icon" sizes="180x180" href="../../favicons/apple-touch-icon.png">
<link rel="icon" type="image/png" sizes="32x32" href="../../favicons/favicon-32x32.png">
<link rel="icon" type="image/png" sizes="16x16" href="../../favicons/favicon-16x16.png">
<link rel="manifest" href="../../favicons/site.webmanifest">
<link rel="mask-icon" href="../../favicons/safari-pinned-tab.svg" color="#5bbad5">
<link rel="shortcut icon" href="../../favicons/favicon.ico">
<meta name="msapplication-TileColor" content="#ffc40d">
<meta name="msapplication-config" content="../../favicons/browserconfig.xml">
<meta name="theme-color" content="#ffffff">

<!-- CSS -->
<link rel="stylesheet" href="../../css/styles-min-afc4baccb2.css">

<!-- Fonts -->
<script>
  (function (d) {
    var config = {
        kitId: 'gas0cwl',
        scriptTimeout: 3000,
        async: true
      },
      h = d.documentElement,
      t = setTimeout(function () {
        h.className = h
          .className
          .replace(/\bwf-loading\b/g, "") + " wf-inactive";
      }, config.scriptTimeout),
      tk = d.createElement("script"),
      f = false,
      s = d.getElementsByTagName("script")[0],
      a;
    h.className += " wf-loading";
    tk.src = 'https://use.typekit.net/' + config.kitId + '.js';
    tk.async = true;
    tk.onload = tk.onreadystatechange = function () {
      a = this.readyState;
      if (f || a && a != "complete" && a != "loaded")
        return;
      f = true;
      clearTimeout(t);
      try {
        Typekit.load(config)
      } catch (e) {}
    };
    s
      .parentNode
      .insertBefore(tk, s)
  })(document);
</script>

<script>
  document
    .documentElement
    .classList
    .remove('no-js')
</script>

</head>

  <body class="page">
      <nav class="main-nav" data-js="menu" data-state="closed">
        <div>
          <a href="../index.html"><svg
  class="logo"
  data-size="small"
  height="1em"
  viewbox="0 0 273 43"
  xmlns="http://www.w3.org/2000/svg"
>
  <g transform="translate(-1 -10)" fill="none" fill-rule="evenodd">
    <rect fill="#F8E201" x="31" y="11" width="217" height="42" />
    <path
      d="M5.21 44.261v-5.217c0-2.726-.706-4.418-3.902-5.076v-3.76c3.196-.705 3.901-2.209 3.901-4.841v-6.11c0-4.606 2.68-8.178 8.695-8.178h1.551v3.995c-3.948 0-5.546 1.645-5.546 5.264v4.23c0 3.196-.94 6.345-4.136 7.473 3.102 1.175 4.136 4.042 4.136 7.05v4.089c0 4.183 1.598 5.828 5.546 5.828v3.995h-1.55c-5.782 0-8.696-3.243-8.696-8.742zm263.967-5.217l.141 5.217c-.141 5.499-2.961 8.742-8.789 8.742h-1.551v-3.995c3.948 0 5.499-1.645 5.499-5.828v-4.089c0-3.008 1.081-5.875 4.183-7.05-3.196-1.128-4.183-4.277-4.183-7.473v-4.23c0-3.619-1.551-5.264-5.499-5.264v-3.995h1.551c5.969 0 8.648 3.572 8.648 8.178v6.11c0 2.632.705 4.136 3.901 4.841v3.76c-3.196.658-3.901 2.35-3.901 5.076z"
      fill="#000"
      fill-rule="nonzero"
    />
    <path
      d="M29.82 52V11.5h7.74v34.56h17.46V52h-25.2zM58.2 37.78c0-8.16 3.54-16.32 13.68-16.32 8.4 0 12.18 5.1 12.18 13.62 0 .96-.06 1.92-.12 3H65.76c.06 7.44 3 9.36 6.54 9.36 2.76 0 5.52-1.2 5.52-4.2 0-.24-.06-.48-.06-.78l6 .84c.06.3.06.66.06 1.02 0 5.4-5.28 8.4-11.76 8.4-8.04 0-13.86-4.62-13.86-14.94zm13.62-11.7c-2.76 0-5.04 2.04-5.82 7.5h10.56v-1.02c0-3.48-1.38-6.48-4.74-6.48zM88.2 44.26c0-6.36 6.06-9.54 12.42-9.54 2.64 0 4.02.6 4.62.96v-4.32c0-3.42-1.32-5.1-4.44-5.1-3.66 0-4.8 2.4-3.96 5.7l-7.02-.78c-1.56-6.84 4.2-9.72 11.4-9.72 7.98 0 11.34 3.48 11.34 9.9v13.26c0 1.38.36 2.04 1.2 2.04 1.08 0 1.92-.96 1.92-.96l.42 5.22s-2.04 1.5-4.92 1.5c-2.94 0-4.98-1.5-5.46-4.62-1.56 2.94-4.56 4.92-8.46 4.92-5.16 0-9.06-3.48-9.06-8.46zm11.28 3.18c2.46 0 4.26-1.38 5.76-3.06v-5.16c-.6 0-1.38-.06-2.34-.06-4.8 0-7.44 1.44-7.44 4.62 0 2.46 1.62 3.66 4.02 3.66zM120.96 52V22.18h5.58l1.02 5.52c1.2-3.18 3.6-6.24 8.1-6.24 6.24 0 7.62 6.66 5.7 11.28l-6.3.84c.84-2.4.96-6-2.04-6-2.64 0-3.96 2.46-4.68 4.56V52h-7.38zm25.86 0V22.18h5.58l.9 4.86c2.22-3.24 4.68-5.58 9.36-5.58 5.04 0 8.88 2.82 8.88 9.18V52h-7.38V32.08c0-3.24-1.2-4.68-3.96-4.68-2.64 0-4.44 1.26-6 2.88V52h-7.38zm47.46-34.86V11.5h17.46v28.8c0 7.5-4.2 12.42-12.18 12.42-8.52 0-13.14-5.52-10.98-13.5l6.84-.72c-1.26 5.16-.06 8.4 3.96 8.4 3.06 0 4.62-1.92 4.62-5.58V17.14h-9.72zm23.94 22.62l6.9-.72c-1.08 4.26 1.2 7.98 8.1 7.98 5.46 0 7.2-2.4 7.2-5.16 0-3.66-3.3-5.04-8.04-6.66-5.76-1.98-13.44-4.38-13.44-12.84 0-7.2 5.52-11.7 14.88-11.58 11.04.12 14.94 6.42 13.74 13.32l-7.32.72c.78-5.76-1.56-8.46-6.96-8.46-4.56 0-6.54 2.04-6.54 5.04 0 4.02 3.72 5.34 8.4 6.9 6.06 1.98 13.02 4.32 13.02 12.36 0 6.84-5.1 12.06-15.24 12.06-9.48 0-16.08-4.5-14.7-12.96z"
      fill="#000"
      fill-rule="nonzero"
    />
  </g>
</svg>
</a>
          <button data-type="secondary" data-js="menu-button">Menu</button>
        </div>
        <div>
          <a href="../index.html">Contents</a>
          <a href="../../components/index.html">Components</a>
          <a href="../../community/index.html">Community</a>
          <a href="../../extras/index.html">Extras</a>
        </div>
        <div>
          <a href="../..https://nerd-dir.com">Account</a>
          <button data-type="secondary" data-js="logout">OpenDir</button>
        </div>
      </nav>

    <noscript>
      <div class="wrap">
        This portal uses JavaScript to check your identity. Please enable JavaScript to access the course.
      </div>
    </noscript>

    <main>
      <div class="wrap">
<div
  data-js="check-auth"
  data-required-authorization="starter"
  data-auth-state="failure"
>
  <article class="longform" data-failed-content>
    <h1>🛠 Carousel: Switching slides with JavaScript</h1>
    <p>Hey <span data-js="user-data" data-field="firstName">,</p>
      <p>
      I'm thrilled to help you learn JavaScript. Unfortunately, you've landed on a page where you cannot access with your current purchase.
    </p>
      <p>
      Please upgrade (<a href="../../404/index.html" data-upgrade-link
        >use this link</a
      >) access this content.
    </p>

      <p>I'm super eager to help you learn more!</p>
    </article>

    <article class="longform" data-content>
      <h1>🛠 Carousel: Switching slides with JavaScript</h1>



      <div class="meta source-code">


    <a href="../../download/components/carousel/03.switch-slides.zip">
      <svg class="icon" viewBox="0 0 20 20" height="1em">
        <path fill="currentColor" d="M.7 9.3l4.8-4.8 1.4 1.42L2.84 10l4.07 4.07-1.41 1.42L0 10l.7-.7zm18.6 1.4l.7-.7-5.49-5.49-1.4 1.42L17.16 10l-4.07 4.07 1.41 1.42 4.78-4.78z"/>
      </svg>
      <span>Source</span>
    </a>
      </div><p>When a user clicks the right button, the carousel should move to the next slide. When they click the left button, the carousel should move to the previous slide.</p>
<figure role="figure"><img src="../../images/components/carousel/switch-slides/carousel.gif" alt="The completed carousel."></figure>
<p>To do this, we need to differentiate between the left and right buttons.</p>
<pre><code class="language-html">&lt;div class=&quot;carousel&quot;&gt;
  &lt;button class=&quot;carousel__button previous-button&quot;&gt; ... &lt;/button&gt;
  &lt;div class=&quot;carousel__contents-container&quot;&gt; ... &lt;/div&gt;
  &lt;button class=&quot;carousel__button next-button&quot;&gt; ... &lt;/button&gt;
  &lt;div class=&quot;carousel__dots&quot;&gt; ... &lt;/div&gt;
&lt;/div&gt;
</code></pre>
<pre><code class="language-js">const carousel = document.querySelector('.carousel')
const previousButton = carousel.querySelector('.previous-button')
const nextButton = carousel.querySelector('.next-button')
</code></pre>
<h2 id="clicking-the-next-button">Clicking the next button</h2>
<p>When a user clicks the next button, we want to show the next slide. To show the next slide, we need to know what’s the currently displayed slide.</p>
<p>The easiest way to tell JavaScript about the current slide is through a class. Since the carousel starts by showing the first slide, we add an <code>is-selected</code> class to the first slide.</p>
<pre><code class="language-html">&lt;ul class=&quot;carousel__contents&quot;&gt;
  &lt;li class=&quot;carousel__slide is-selected&quot;&gt; ... &lt;/li&gt;
  &lt;li class=&quot;carousel__slide&quot;&gt; ... &lt;/li&gt;
  &lt;li class=&quot;carousel__slide&quot;&gt; ... &lt;/li&gt;
&lt;/ul&gt;
</code></pre>
<p>We can get the selected slide using <code>querySelector</code>.</p>
<pre><code class="language-js">const contents = carousel.querySelector('.carousel__contents')

nextButton.addEventListener('click', event =&gt; {
  const currentSlide = contents.querySelector('.is-selected')
  console.log(currentSlide)
})
</code></pre>
<figure role="figure"><img src="../../images/components/carousel/switch-slides/current-slide.gif" alt="Getting the current slide in JavaScript."></figure>
<p>We can get the next slide using <code>nextElementSibling</code>.</p>
<pre><code class="language-js">nextButton.addEventListener('click', event =&gt; {
  const currentSlide = contents.querySelector('.is-selected')
  const nextSlide = currentSlide.nextElementSibling
  console.log(nextSlide)
})
</code></pre>
<figure role="figure"><img src="../../images/components/carousel/switch-slides/next-slide.gif" alt="Getting the next slide in JavaScript."></figure>
<p>From the previous lesson, we know the following:</p>
<ol>
<li>To show the second slide, we set <code>carousel__content</code>'s <code>left</code> property to <code>-800px</code>.</li>
<li>To show the third slide, we set <code>carousel__content</code>'s <code>left</code> property to <code>-1600px</code>.</li>
</ol>
<p>We can get these values from each slide’s <code>left</code> property. Since the <code>left</code> values are written in CSS, we need to use <code>getComputedStyle</code> to retrieve them.</p>
<pre><code class="language-js">nextButton.addEventListener('click', event =&gt; {
  const currentSlide = contents.querySelector('.is-selected')
  const nextSlide = currentSlide.nextElementSibling
  const destination = getComputedStyle(nextSlide).left
  console.log(destination)
})
</code></pre>
<figure role="figure"><img src="../../images/components/carousel/switch-slides/next-slide-destination.gif" alt="Next slide's left property value."></figure>
<p>We can use this <code>destination</code> value to set <code>.carousel__content</code>'s left property.</p>
<pre><code class="language-js">nextButton.addEventListener('click', event =&gt; {
  const currentSlide = contents.querySelector('.is-selected')
  const nextSlide = currentSlide.nextElementSibling
  const destination = getComputedStyle(nextSlide).left

  contents.style.left = '-' + destination
})
</code></pre>
<figure role="figure"><img src="../../images/components/carousel/switch-slides/next-slide-second-slide.gif" alt="Switching to the second slide."></figure>
<p>After changing the displayed slide, we need to update the location of the <code>is-selected</code> class. If we don’t update the <code>is-selected</code> class, we won’t be able to move to the third slide.</p>
<p>Here, we remove <code>is-selected</code> from <code>currentSlide</code> and add it to <code>nextSlide</code>. (This is because <code>nextSlide</code> is the displayed slide after we changed the <code>left</code> property).</p>
<pre><code class="language-js">nextButton.addEventListener('click', event =&gt; {
  const currentSlide = contents.querySelector('.is-selected')
  const nextSlide = currentSlide.nextElementSibling
  const destination = getComputedStyle(nextSlide).left

  contents.style.left = '-' + destination
  currentSlide.classList.remove('is-selected')
  nextSlide.classList.add('is-selected')
})
</code></pre>
<figure role="figure"><img src="../../images/components/carousel/switch-slides/next-slide-done.gif" alt="Switching to the third slide."></figure>
<h2 id="clicking-the-previous-button">Clicking the previous button</h2>
<p>When a user clicks the previous button, we want to show the previous slide. As before, we can get the displayed slide using querySelector.</p>
<pre><code class="language-js">previousButton.addEventListener('click', event =&gt; {
  const currentSlide = contents.querySelector('.is-selected')
})
</code></pre>
<p>We can get the previous slide with <code>previousElementSibling</code></p>
<pre><code class="language-js">previousButton.addEventListener('click', event =&gt; {
  const currentSlide = contents.querySelector('.is-selected')
  const previousSlide = currentSlide.previousElementSibling
  console.log(previousSlide)
})
</code></pre>
<figure role="figure"><img src="../../images/components/carousel/switch-slides/previous-slide.gif" alt="Getting the previous slide in JavaScript."></figure>
<p>We can get the <code>left</code> property to move to with <code>getComputedStyle</code>.</p>
<pre><code class="language-js">previousButton.addEventListener('click', event =&gt; {
  const currentSlide = contents.querySelector('.is-selected')
  const previousSlide = currentSlide.previousElementSibling
  const destination = getComputedStyle(previousSlide).left
})
</code></pre>
<p>Then we change the displayed slide by styling <code>carousel__content</code>'s <code>left</code> property.</p>
<pre><code class="language-js">previousButton.addEventListener('click', event =&gt; {
  const currentSlide = contents.querySelector('.is-selected')
  const previousSlide = currentSlide.previousElementSibling
  const destination = getComputedStyle(previousSlide).left

  contents.style.left = '-' + destination
})
</code></pre>
<p>After changing the displayed slide, we need to update the location of the <code>is-selected</code> class.</p>
<pre><code class="language-js">previousButton.addEventListener('click', event =&gt; {
  // ...
  currentSlide.classList.remove('is-selected')
  previousSlide.classList.add('is-selected')
})
</code></pre>
<figure role="figure"><img src="../../images/components/carousel/switch-slides/previous-slide-done.gif" alt="From the third slide, switches back to second slide, then switches back to first slide."></figure>
<h2 id="hiding-the-previous-and-next-button">Hiding the previous and next button</h2>
<p>When the page loads, we show the first slide of the carousel. Since we’re on the first slide, users should not be able to move to a “previous” slide. (There are no previous slides).</p>
<p>We can hide the button to make better UX. To hide the button, we add a <code>hidden</code> attribute to the HTML.</p>
<pre><code class="language-html">&lt;button class=&quot;carousel__button previous-button&quot; hidden&gt; ... &lt;/button&gt;
</code></pre>
<figure role="figure"><img src="../../images/components/carousel/switch-slides/hide-previous-button.png" alt="Hides previous button."></figure>
<p>When a user clicks the next button, we show the second slide. When the carousel is at the second slide, users should be able to go back to the first slide. Here, we need to show the previous button again.</p>
<p>To do this, we remove the <code>hidden</code> attribute.</p>
<pre><code class="language-js">nextButton.addEventListener('click', event =&gt; {
  // ...
  // Shows previous button
  previousButton.removeAttribute('hidden')
})
</code></pre>
<figure role="figure"><img src="../../images/components/carousel/switch-slides/next-show-prev.gif" alt="Shows previous button when next button gets clicked."></figure>
<p>When the user clicks the next button for a second time, we show the third slide in the carousel. This third slide also the last slide in the carousel. User should not be able to move to a fourth slide (because it doesn’t exist). We need to hide the next button.</p>
<p>Here’s how we can hide the next button:</p>
<ol>
<li>When a user clicks the next button</li>
<li>We check if there’s one more slide after the <code>nextSlide</code>.</li>
<li>If there are no more slides, we know <code>nextSlide</code> is the last slide.</li>
<li>If <code>nextSlide</code> is the last slide, we hide the next button by adding the <code>hidden</code> attribute.</li>
</ol>
<pre><code class="language-js">nextButton.addEventListener('click', event =&gt; {
  // ...
  // Hides next button
  if (!nextSlide.nextElementSibling) {
    nextButton.setAttribute('hidden', true)
  }
})
</code></pre>
<figure role="figure"><img src="../../images/components/carousel/switch-slides/hides-next-button.gif" alt="Hides the next button."></figure>
<p>Now, if the user clicks the left button, we go back to the second slide. We must show the next button again (because they can move back to the third slide).</p>
<pre><code class="language-js">previousButton.addEventListener('click', event =&gt; {
  // ...
  // Shows next button
  nextButton.removeAttribute('hidden')
})
</code></pre>
<figure role="figure"><img src="../../images/components/carousel/switch-slides/shows-next-button.gif" alt="Shows the next button."></figure>
<p>If the user clicks the left button again, they will arrive at the first slide. Here, we must hide the previous button again (because there are no more “previous” slides).</p>
<p>Here’s how we can hide the previous button:</p>
<ol>
<li>When a user clicks the previous button</li>
<li>We check if there’s one more slide before the <code>previousSlide</code>.</li>
<li>If there are no more slides, we know <code>previousSlide</code> is the first slide.</li>
<li>If <code>previousSlide</code> is the first slide, we hide the previous button by adding the <code>hidden</code> attribute.</li>
</ol>
<pre><code class="language-js">previousButton.addEventListener('click', event =&gt; {
  // ...
  // Hides previous button
  if (!previousSlide.previousElementSibling) {
    previousButton.setAttribute('hidden', true)
  }
})
</code></pre>
<figure role="figure"><img src="../../images/components/carousel/switch-slides/hides-previous-button.gif" alt="Hides previous button."></figure>
<p>That’s it!</p>
</article>
  </div>



  <div class="longform">
    <nav class="lesson-nav">

          <a href="../building-carousel-1/index.html" data-link-to="previous-lesson">
              <svg height="1em" viewbox="0 0 22 38">
                <path
          fill="currentColor"
          d="M18.9 38l3.1-3.1L6.1 19 22 3.1 18.9 0 0 19z"
        ></path>
              </svg>
              <span>🛠 Carousel: HTML and CSS</span>
            </a>
          <a href="../carousel-dots/index.html" data-link-to="next-lesson">
              <span>🛠 Carousel: Working the dots</span>
              <svg height="1em" viewbox="0 0 22 38">
                <path
          fill="currentColor"
          d="M3.1 0L0 3.1 15.9 19 0 34.9 3.1 38 22 19z"
        ></path>
              </svg>
            </a>
          </nav>
  </div>
</div>
    </main>



      <script module src="../../js/main-b9439821d7.mjs"></script>
      <script nomodule src="../../js/main-legacy-8c54230a8f.js"></script>
  </body>

<!-- /carousel-switch-slides/  Mon, 24 Jan 2022 10:01:42 GMT -->
</html>
