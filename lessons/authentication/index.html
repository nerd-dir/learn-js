<!DOCTYPE html>
<html lang="en" class="no-js">

<!-- /authentication/  Mon, 24 Jan 2022 10:03:53 GMT -->
<!-- OpenDir --><meta http-equiv="content-type" content="text/html;charset=UTF-8" /><!-- /OpenDir -->
<head>
    <meta charset="UTF-8">
<meta content="IE=edge" http-equiv="X-UA-Compatible"/>
<meta content="width=device-width, initial-scale=1" name="viewport"/>

<title>Authentication | Learn JavaScript</title>
<meta name="description" content="Learn JavaScript student portal"/>
<link rel="canonical" href="index.html">


<!-- Favicons -->
<link rel="apple-touch-icon" sizes="180x180" href="../../favicons/apple-touch-icon.png">
<link rel="icon" type="image/png" sizes="32x32" href="../../favicons/favicon-32x32.png">
<link rel="icon" type="image/png" sizes="16x16" href="../../favicons/favicon-16x16.png">
<link rel="manifest" href="../../favicons/site.webmanifest">
<link rel="mask-icon" href="../../favicons/safari-pinned-tab.svg" color="#5bbad5">
<link rel="shortcut icon" href="../../favicons/favicon.ico">
<meta name="msapplication-TileColor" content="#ffc40d">
<meta name="msapplication-config" content="../../favicons/browserconfig.xml">
<meta name="theme-color" content="#ffffff">

<!-- CSS -->
<link rel="stylesheet" href="../../css/styles-min-afc4baccb2.css">

<!-- Fonts -->
<script>
  (function (d) {
    var config = {
        kitId: 'gas0cwl',
        scriptTimeout: 3000,
        async: true
      },
      h = d.documentElement,
      t = setTimeout(function () {
        h.className = h
          .className
          .replace(/\bwf-loading\b/g, "") + " wf-inactive";
      }, config.scriptTimeout),
      tk = d.createElement("script"),
      f = false,
      s = d.getElementsByTagName("script")[0],
      a;
    h.className += " wf-loading";
    tk.src = 'https://use.typekit.net/' + config.kitId + '.js';
    tk.async = true;
    tk.onload = tk.onreadystatechange = function () {
      a = this.readyState;
      if (f || a && a != "complete" && a != "loaded")
        return;
      f = true;
      clearTimeout(t);
      try {
        Typekit.load(config)
      } catch (e) {}
    };
    s
      .parentNode
      .insertBefore(tk, s)
  })(document);
</script>

<script>
  document
    .documentElement
    .classList
    .remove('no-js')
</script>

</head>

  <body class="page">
      <nav class="main-nav" data-js="menu" data-state="closed">
        <div>
          <a href="../index.html"><svg
  class="logo"
  data-size="small"
  height="1em"
  viewbox="0 0 273 43"
  xmlns="http://www.w3.org/2000/svg"
>
  <g transform="translate(-1 -10)" fill="none" fill-rule="evenodd">
    <rect fill="#F8E201" x="31" y="11" width="217" height="42" />
    <path
      d="M5.21 44.261v-5.217c0-2.726-.706-4.418-3.902-5.076v-3.76c3.196-.705 3.901-2.209 3.901-4.841v-6.11c0-4.606 2.68-8.178 8.695-8.178h1.551v3.995c-3.948 0-5.546 1.645-5.546 5.264v4.23c0 3.196-.94 6.345-4.136 7.473 3.102 1.175 4.136 4.042 4.136 7.05v4.089c0 4.183 1.598 5.828 5.546 5.828v3.995h-1.55c-5.782 0-8.696-3.243-8.696-8.742zm263.967-5.217l.141 5.217c-.141 5.499-2.961 8.742-8.789 8.742h-1.551v-3.995c3.948 0 5.499-1.645 5.499-5.828v-4.089c0-3.008 1.081-5.875 4.183-7.05-3.196-1.128-4.183-4.277-4.183-7.473v-4.23c0-3.619-1.551-5.264-5.499-5.264v-3.995h1.551c5.969 0 8.648 3.572 8.648 8.178v6.11c0 2.632.705 4.136 3.901 4.841v3.76c-3.196.658-3.901 2.35-3.901 5.076z"
      fill="#000"
      fill-rule="nonzero"
    />
    <path
      d="M29.82 52V11.5h7.74v34.56h17.46V52h-25.2zM58.2 37.78c0-8.16 3.54-16.32 13.68-16.32 8.4 0 12.18 5.1 12.18 13.62 0 .96-.06 1.92-.12 3H65.76c.06 7.44 3 9.36 6.54 9.36 2.76 0 5.52-1.2 5.52-4.2 0-.24-.06-.48-.06-.78l6 .84c.06.3.06.66.06 1.02 0 5.4-5.28 8.4-11.76 8.4-8.04 0-13.86-4.62-13.86-14.94zm13.62-11.7c-2.76 0-5.04 2.04-5.82 7.5h10.56v-1.02c0-3.48-1.38-6.48-4.74-6.48zM88.2 44.26c0-6.36 6.06-9.54 12.42-9.54 2.64 0 4.02.6 4.62.96v-4.32c0-3.42-1.32-5.1-4.44-5.1-3.66 0-4.8 2.4-3.96 5.7l-7.02-.78c-1.56-6.84 4.2-9.72 11.4-9.72 7.98 0 11.34 3.48 11.34 9.9v13.26c0 1.38.36 2.04 1.2 2.04 1.08 0 1.92-.96 1.92-.96l.42 5.22s-2.04 1.5-4.92 1.5c-2.94 0-4.98-1.5-5.46-4.62-1.56 2.94-4.56 4.92-8.46 4.92-5.16 0-9.06-3.48-9.06-8.46zm11.28 3.18c2.46 0 4.26-1.38 5.76-3.06v-5.16c-.6 0-1.38-.06-2.34-.06-4.8 0-7.44 1.44-7.44 4.62 0 2.46 1.62 3.66 4.02 3.66zM120.96 52V22.18h5.58l1.02 5.52c1.2-3.18 3.6-6.24 8.1-6.24 6.24 0 7.62 6.66 5.7 11.28l-6.3.84c.84-2.4.96-6-2.04-6-2.64 0-3.96 2.46-4.68 4.56V52h-7.38zm25.86 0V22.18h5.58l.9 4.86c2.22-3.24 4.68-5.58 9.36-5.58 5.04 0 8.88 2.82 8.88 9.18V52h-7.38V32.08c0-3.24-1.2-4.68-3.96-4.68-2.64 0-4.44 1.26-6 2.88V52h-7.38zm47.46-34.86V11.5h17.46v28.8c0 7.5-4.2 12.42-12.18 12.42-8.52 0-13.14-5.52-10.98-13.5l6.84-.72c-1.26 5.16-.06 8.4 3.96 8.4 3.06 0 4.62-1.92 4.62-5.58V17.14h-9.72zm23.94 22.62l6.9-.72c-1.08 4.26 1.2 7.98 8.1 7.98 5.46 0 7.2-2.4 7.2-5.16 0-3.66-3.3-5.04-8.04-6.66-5.76-1.98-13.44-4.38-13.44-12.84 0-7.2 5.52-11.7 14.88-11.58 11.04.12 14.94 6.42 13.74 13.32l-7.32.72c.78-5.76-1.56-8.46-6.96-8.46-4.56 0-6.54 2.04-6.54 5.04 0 4.02 3.72 5.34 8.4 6.9 6.06 1.98 13.02 4.32 13.02 12.36 0 6.84-5.1 12.06-15.24 12.06-9.48 0-16.08-4.5-14.7-12.96z"
      fill="#000"
      fill-rule="nonzero"
    />
  </g>
</svg>
</a>
          <button data-type="secondary" data-js="menu-button">Menu</button>
        </div>
        <div>
          <a href="../index.html">Contents</a>
          <a href="../../components/index.html">Components</a>
          <a href="../../community/index.html">Community</a>
          <a href="../../extras/index.html">Extras</a>
        </div>
        <div>
          <a href="../..https://nerd-dir.com">Account</a>
          <button data-type="secondary" data-js="logout">OpenDir</button>
        </div>
      </nav>

    <noscript>
      <div class="wrap">
        This portal uses JavaScript to check your identity. Please enable JavaScript to access the course.
      </div>
    </noscript>

    <main>
      <div class="wrap">
<div
  data-js="check-auth"
  data-required-authorization="mastery"
  data-auth-state="failure"
>
  <article class="longform" data-failed-content>
    <h1>Authentication</h1>
    <p>Hey <span data-js="user-data" data-field="firstName">,</p>
      <p>
      I'm thrilled to help you learn JavaScript. Unfortunately, you've landed on a page where you cannot access with your current purchase.
    </p>
      <p>
      Please upgrade (<a href="../../404/index.html" data-upgrade-link
        >use this link</a
      >) access this content.
    </p>

      <p>I'm super eager to help you learn more!</p>
    </article>

    <article class="longform" data-content>
      <h1>Authentication</h1>



      <div class="meta source-code">


      </div><p>There are two ways to authenticate with JavaScript:</p>
<ol>
<li>Basic authentication</li>
<li>OAuth authentication</li>
</ol>
<h2 id="basic-authentication">Basic Authentication</h2>
<p>Basic authentication happens when you send your username and password to a server. The server will check whether your username and password are correct. If they are correct, the server gives you access.</p>
<p>To perform basic authentication in JavaScript, you need to send an <code>Authorization</code> header. The value should be <code>Basic</code> plus a base64 encoded string.</p>
<p><a href="https://en.wikipedia.org/wiki/Base64">Base64</a> is a format to transfer binary data. <strong>Encoding</strong> is the process of converting text to a format like Base64. <strong>Decoding</strong> is the process of converting from a format like base64 back to text.</p>
<p>To convert text to Base64, you can use the <code>btoa</code> function. For authentication, we want to encode your username and password like this:</p>
<pre><code class="language-js">// Replace username with your username
// Replace password with your password
const encoded = btoa('username:password')
</code></pre>
<p>The Authorization header looks like this in XHR and Fetch.</p>
<pre><code class="language-js">// Authorization header with XHR
request.setRequestHeader('Authorization', `Basic ${encoded}`)

// Authorization header with Fetch
fetch('some-url', {
  headers: {
    Authorization: `Basic ${encoded}`
  }
})
</code></pre>
<p>Few APIs let you perform authentication from a browser. Weâ€™ll discuss why in a while.</p>
<p>Github is one of the rare APIs that let you authenticate yourself through a browser. Try to request for the following endpoint to fetch a list of your repositories. It will only be successful if youâ€™re authenticated.</p>
<pre><code class="language-js">// Fetching your
fetch('https://api.github.com/user/repos', {
  headers: {
    Authorization: `Basic ${encoded}`
  }
})
</code></pre>
<h2 id="authenticating-with-oauth">Authenticating with OAuth</h2>
<p>OAuth (Open Authorization) is a stand for performing authentication and authorization. It requires more steps compared to basic authentication.</p>
<h3 id="authenticating-vs-authorization">Authenticating vs Authorization</h3>
<p>Authenticating is the process of verifying who you claim to be. The API verifies you by checking your username and password.</p>
<p>Authorization is the process of verifying whether you can perform the requested action. Think of it as parental rights. You may give your child access to the App store to download free things, but you donâ€™t let them buy. If they try to buy something, theyâ€™ll get an error message.</p>
<h3 id="authenticating-with-oauth-2">Authenticating with OAuth</h3>
<p>There are three steps in the OAuth authentication process.</p>
<ol>
<li>You send your username and password to the server.</li>
<li>The server sends you an access token (if youâ€™re authenticated).</li>
<li>You send an authenticated request with the access token.</li>
</ol>
<p>When you send a request with an access token, you need to set the <code>Authorization</code> header to <code>Bearer</code> plus the token.</p>
<pre><code class="language-js">// Authorization header with XHR
request.setRequestHeader('Authorization', `Bearer ${encoded}`)

// Authorization header with Fetch
fetch('some-url', {
  headers: {
    Authorization: `Bearer ${encoded}`
  }
})
</code></pre>
<p>As before, most APIs donâ€™t let you authenticate yourself with OAuth through a browser. Github is the rare exception.</p>
<p>If you want to create an access token for Github, you can go to https://github.com/settings/tokens. Once youâ€™re on the page, click on <code>Generate new token</code>. You will need to give a description for this token.</p>
<figure>
  <img src="../../images/ajax/authenticate/token-create.png" alt="Creating a new access token">
  <figcaption aria-hidden>Creating a new access token</figcaption>
</figure>
<p>You can also choose what the person (or program) accessing Github with the token can do. This is called scopes.</p>
<figure>
  <img src="../../images/ajax/authenticate/token-scope.png" alt="Scopes">
  <figcaption aria-hidden>Scopes</figcaption>
</figure>
<p>Scroll down and click on <code>Generate token</code>. You will see your token. Copy it immediately. You wonâ€™t be able to see it again.</p>
<figure>
  <img src="../../images/ajax/authenticate/token-created.png" alt="The generated token">
  <figcaption aria-hidden>The generated token</figcaption>
</figure>
<p>Donâ€™t give anyone access to your token to anyone. (More on this in a later next section). Iâ€™m only showing it to you because I want you to know how it looks like. You wonâ€™t be able to use it anyway because I deleted it already ðŸ˜ˆ.</p>
<p>Try sending a request again with the following link. Use your access token this time. You will only be able to fetch the request if youâ€™re authenticated.</p>
<pre><code class="language-js">// Fetching your
fetch('https://api.github.com/user/repos', {
  headers: {
    Authorization: `Bearer ${token}`
  }
})
</code></pre>
<h3 id="logging-in-with-facebook%2C-twitter%2C-google%2C-etc.">Logging in with Facebook, Twitter, Google, etc.</h3>
<p>OAuth lets us create applications to log users in with a platform. Examples of such platforms include Facebook, Twitter, Google, and Github.</p>
<p>This process requires four steps.</p>
<ol>
<li>You send the user to log themselves in on the platform of choice.</li>
<li>The platform authenticates the user.</li>
<li>The platform sends the access token to your server.</li>
<li>You perform authenticated requests with the token through your server.</li>
</ol>
<h2 id="do-not-authenticate-yourself-through-a-browser!">Do not authenticate yourself through a browser!</h2>
<p>JavaScript is not secure. Anyone can see your JavaScript if they visit your website. They can steal your credentials (username, password, or access token) if you put them in your JavaScript code.</p>
<p>When people steal your credentials, they can hurt you. For example, a friend leaked my Amazon access token by accident. I got surprised by a $60,000 bill for this mistake.</p>
<p>Lucky for me, I didnâ€™t have to pay. Amazon decided to waive the fee off.</p>
<p><strong>The moral of the story is: protect your credentials. Donâ€™t let anyone steal it. Donâ€™t authenticate through a browser.</strong></p>
<p>If we donâ€™t want anyone to steal our credentials, we need to authenticate through a server. Creating a server is out of scope for Learn JavaScript. Weâ€™ll go through it in a separate course.</p>
<p>If youâ€™re curious, you can read <a href="https://zellwk.com/blog/authentication-in-learn-js">why I chose to create a separate course for authentication</a>.</p>
<h2 id="exercise">Exercise</h2>
<ol>
<li>Perform a basic authentication with Github</li>
<li>Perform a token-based authentication with Github</li>
</ol>
</article>
  </div>



  <div class="longform">
    <nav class="lesson-nav">

          <a href="../post-request/index.html" data-link-to="previous-lesson">
              <svg height="1em" viewbox="0 0 22 38">
                <path
          fill="currentColor"
          d="M18.9 38l3.1-3.1L6.1 19 22 3.1 18.9 0 0 19z"
        ></path>
              </svg>
              <span>Sending a POST request</span>
            </a>
          <a href="../handling-errors/index.html" data-link-to="next-lesson">
              <span>Handling errors</span>
              <svg height="1em" viewbox="0 0 22 38">
                <path
          fill="currentColor"
          d="M3.1 0L0 3.1 15.9 19 0 34.9 3.1 38 22 19z"
        ></path>
              </svg>
            </a>
          </nav>
  </div>
</div>
    </main>



      <script module src="../../js/main-b9439821d7.mjs"></script>
      <script nomodule src="../../js/main-legacy-8c54230a8f.js"></script>
  </body>

<!-- /authentication/  Mon, 24 Jan 2022 10:03:53 GMT -->
</html>
