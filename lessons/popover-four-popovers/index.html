<!DOCTYPE html>
<html lang="en" class="no-js">

<!-- /popover-four-popovers/  Mon, 24 Jan 2022 10:03:04 GMT -->
<!-- OpenDir --><meta http-equiv="content-type" content="text/html;charset=UTF-8" /><!-- /OpenDir -->
<head>
    <meta charset="UTF-8">
<meta content="IE=edge" http-equiv="X-UA-Compatible"/>
<meta content="width=device-width, initial-scale=1" name="viewport"/>

<title>üõ†Ô∏è Popover: Making four popovers | Learn JavaScript</title>
<meta name="description" content="Learn JavaScript student portal"/>
<link rel="canonical" href="index.html">


<!-- Favicons -->
<link rel="apple-touch-icon" sizes="180x180" href="../../favicons/apple-touch-icon.png">
<link rel="icon" type="image/png" sizes="32x32" href="../../favicons/favicon-32x32.png">
<link rel="icon" type="image/png" sizes="16x16" href="../../favicons/favicon-16x16.png">
<link rel="manifest" href="../../favicons/site.webmanifest">
<link rel="mask-icon" href="../../favicons/safari-pinned-tab.svg" color="#5bbad5">
<link rel="shortcut icon" href="../../favicons/favicon.ico">
<meta name="msapplication-TileColor" content="#ffc40d">
<meta name="msapplication-config" content="../../favicons/browserconfig.xml">
<meta name="theme-color" content="#ffffff">

<!-- CSS -->
<link rel="stylesheet" href="../../css/styles-min-afc4baccb2.css">

<!-- Fonts -->
<script>
  (function (d) {
    var config = {
        kitId: 'gas0cwl',
        scriptTimeout: 3000,
        async: true
      },
      h = d.documentElement,
      t = setTimeout(function () {
        h.className = h
          .className
          .replace(/\bwf-loading\b/g, "") + " wf-inactive";
      }, config.scriptTimeout),
      tk = d.createElement("script"),
      f = false,
      s = d.getElementsByTagName("script")[0],
      a;
    h.className += " wf-loading";
    tk.src = 'https://use.typekit.net/' + config.kitId + '.js';
    tk.async = true;
    tk.onload = tk.onreadystatechange = function () {
      a = this.readyState;
      if (f || a && a != "complete" && a != "loaded")
        return;
      f = true;
      clearTimeout(t);
      try {
        Typekit.load(config)
      } catch (e) {}
    };
    s
      .parentNode
      .insertBefore(tk, s)
  })(document);
</script>

<script>
  document
    .documentElement
    .classList
    .remove('no-js')
</script>

</head>

  <body class="page">
      <nav class="main-nav" data-js="menu" data-state="closed">
        <div>
          <a href="../index.html"><svg
  class="logo"
  data-size="small"
  height="1em"
  viewbox="0 0 273 43"
  xmlns="http://www.w3.org/2000/svg"
>
  <g transform="translate(-1 -10)" fill="none" fill-rule="evenodd">
    <rect fill="#F8E201" x="31" y="11" width="217" height="42" />
    <path
      d="M5.21 44.261v-5.217c0-2.726-.706-4.418-3.902-5.076v-3.76c3.196-.705 3.901-2.209 3.901-4.841v-6.11c0-4.606 2.68-8.178 8.695-8.178h1.551v3.995c-3.948 0-5.546 1.645-5.546 5.264v4.23c0 3.196-.94 6.345-4.136 7.473 3.102 1.175 4.136 4.042 4.136 7.05v4.089c0 4.183 1.598 5.828 5.546 5.828v3.995h-1.55c-5.782 0-8.696-3.243-8.696-8.742zm263.967-5.217l.141 5.217c-.141 5.499-2.961 8.742-8.789 8.742h-1.551v-3.995c3.948 0 5.499-1.645 5.499-5.828v-4.089c0-3.008 1.081-5.875 4.183-7.05-3.196-1.128-4.183-4.277-4.183-7.473v-4.23c0-3.619-1.551-5.264-5.499-5.264v-3.995h1.551c5.969 0 8.648 3.572 8.648 8.178v6.11c0 2.632.705 4.136 3.901 4.841v3.76c-3.196.658-3.901 2.35-3.901 5.076z"
      fill="#000"
      fill-rule="nonzero"
    />
    <path
      d="M29.82 52V11.5h7.74v34.56h17.46V52h-25.2zM58.2 37.78c0-8.16 3.54-16.32 13.68-16.32 8.4 0 12.18 5.1 12.18 13.62 0 .96-.06 1.92-.12 3H65.76c.06 7.44 3 9.36 6.54 9.36 2.76 0 5.52-1.2 5.52-4.2 0-.24-.06-.48-.06-.78l6 .84c.06.3.06.66.06 1.02 0 5.4-5.28 8.4-11.76 8.4-8.04 0-13.86-4.62-13.86-14.94zm13.62-11.7c-2.76 0-5.04 2.04-5.82 7.5h10.56v-1.02c0-3.48-1.38-6.48-4.74-6.48zM88.2 44.26c0-6.36 6.06-9.54 12.42-9.54 2.64 0 4.02.6 4.62.96v-4.32c0-3.42-1.32-5.1-4.44-5.1-3.66 0-4.8 2.4-3.96 5.7l-7.02-.78c-1.56-6.84 4.2-9.72 11.4-9.72 7.98 0 11.34 3.48 11.34 9.9v13.26c0 1.38.36 2.04 1.2 2.04 1.08 0 1.92-.96 1.92-.96l.42 5.22s-2.04 1.5-4.92 1.5c-2.94 0-4.98-1.5-5.46-4.62-1.56 2.94-4.56 4.92-8.46 4.92-5.16 0-9.06-3.48-9.06-8.46zm11.28 3.18c2.46 0 4.26-1.38 5.76-3.06v-5.16c-.6 0-1.38-.06-2.34-.06-4.8 0-7.44 1.44-7.44 4.62 0 2.46 1.62 3.66 4.02 3.66zM120.96 52V22.18h5.58l1.02 5.52c1.2-3.18 3.6-6.24 8.1-6.24 6.24 0 7.62 6.66 5.7 11.28l-6.3.84c.84-2.4.96-6-2.04-6-2.64 0-3.96 2.46-4.68 4.56V52h-7.38zm25.86 0V22.18h5.58l.9 4.86c2.22-3.24 4.68-5.58 9.36-5.58 5.04 0 8.88 2.82 8.88 9.18V52h-7.38V32.08c0-3.24-1.2-4.68-3.96-4.68-2.64 0-4.44 1.26-6 2.88V52h-7.38zm47.46-34.86V11.5h17.46v28.8c0 7.5-4.2 12.42-12.18 12.42-8.52 0-13.14-5.52-10.98-13.5l6.84-.72c-1.26 5.16-.06 8.4 3.96 8.4 3.06 0 4.62-1.92 4.62-5.58V17.14h-9.72zm23.94 22.62l6.9-.72c-1.08 4.26 1.2 7.98 8.1 7.98 5.46 0 7.2-2.4 7.2-5.16 0-3.66-3.3-5.04-8.04-6.66-5.76-1.98-13.44-4.38-13.44-12.84 0-7.2 5.52-11.7 14.88-11.58 11.04.12 14.94 6.42 13.74 13.32l-7.32.72c.78-5.76-1.56-8.46-6.96-8.46-4.56 0-6.54 2.04-6.54 5.04 0 4.02 3.72 5.34 8.4 6.9 6.06 1.98 13.02 4.32 13.02 12.36 0 6.84-5.1 12.06-15.24 12.06-9.48 0-16.08-4.5-14.7-12.96z"
      fill="#000"
      fill-rule="nonzero"
    />
  </g>
</svg>
</a>
          <button data-type="secondary" data-js="menu-button">Menu</button>
        </div>
        <div>
          <a href="../index.html">Contents</a>
          <a href="../../components/index.html">Components</a>
          <a href="../../community/index.html">Community</a>
          <a href="../../extras/index.html">Extras</a>
        </div>
        <div>
          <a href="../..https://nerd-dir.com">Account</a>
          <button data-type="secondary" data-js="logout">OpenDir</button>
        </div>
      </nav>

    <noscript>
      <div class="wrap">
        This portal uses JavaScript to check your identity. Please enable JavaScript to access the course.
      </div>
    </noscript>

    <main>
      <div class="wrap">
<div
  data-js="check-auth"
  data-required-authorization="mastery"
  data-auth-state="failure"
>
  <article class="longform" data-failed-content>
    <h1>üõ†Ô∏è Popover: Making four popovers</h1>
    <p>Hey <span data-js="user-data" data-field="firstName">,</p>
      <p>
      I'm thrilled to help you learn JavaScript. Unfortunately, you've landed on a page where you cannot access with your current purchase.
    </p>
      <p>
      Please upgrade (<a href="../../404/index.html" data-upgrade-link
        >use this link</a
      >) access this content.
    </p>

      <p>I'm super eager to help you learn more!</p>
    </article>

    <article class="longform" data-content>
      <h1>üõ†Ô∏è Popover: Making four popovers</h1>



      <div class="meta source-code">


    <a href="../../download/components/popover/03.four-popovers.zip">
      <svg class="icon" viewBox="0 0 20 20" height="1em">
        <path fill="currentColor" d="M.7 9.3l4.8-4.8 1.4 1.42L2.84 10l4.07 4.07-1.41 1.42L0 10l.7-.7zm18.6 1.4l.7-.7-5.49-5.49-1.4 1.42L17.16 10l-4.07 4.07 1.41 1.42 4.78-4.78z"/>
      </svg>
      <span>Source</span>
    </a>
      </div><p>Popovers can pop out in many different directions. We‚Äôre going to make popovers in each of these directions for practice:</p>
<ol>
<li>Top</li>
<li>Left</li>
<li>Right</li>
<li>Bottom</li>
</ol>
<figure role="figure"><img src="../../images/components/popover/four-popovers/four-popovers.png" alt="Four popovers."></figure>
<p>We‚Äôll make the left popover first.</p>
<h2 id="making-the-left-popover">Making the left popover</h2>
<p>First, we need to add the trigger and popover into the HTML:</p>
<pre><code class="language-html">&lt;!-- Popover trigger --&gt;
&lt;button class=&quot;popover-trigger&quot; data-popover-position=&quot;left&quot;&gt;
  &lt;svg viewBox=&quot;0 0 40 20&quot;&gt;
    &lt;use xlink:href=&quot;#arrow&quot;&gt;&lt;/use&gt;
  &lt;/svg&gt;
&lt;/button&gt;
</code></pre>
<pre><code class="language-html">&lt;!-- Popover HTML --&gt;
&lt;div class=&quot;popover&quot; data-position=&quot;left&quot;&gt;
  &lt;p&gt;The quick brown fox jumps over the lazy dog.&lt;/p&gt;
&lt;/div&gt;
</code></pre>
<p>Code for the left popover is similar to the top popover. It can be hard to write the left popover‚Äôs code if we need to avoid variable name collisions with the top popover. The best way to overcome this is to isolate the top popover‚Äôs code.</p>
<p>We can isolate the top popover‚Äôs code with a block scope.</p>
<pre><code class="language-js">{
  // Top popover code
}
</code></pre>
<p>Next, we need to select the left popover‚Äôs trigger. We can‚Äôt just look for <code>.popover-trigger</code> anymore. We need a more specific selector.</p>
<p>Since the left popover is the second popover, one thing we can do is use <code>querySelectorAll</code>.</p>
<pre><code class="language-js">const popoverTrigger = document.querySelectorAll('.popover-trigger')[1]
</code></pre>
<p>Then, we need to select the second popover.</p>
<pre><code class="language-js">const popover = document.querySelectorAll('.popover')[1]
</code></pre>
<p>To get the popover‚Äôs <code>left</code> value, we need to know the trigger‚Äôs <code>left</code> value.</p>
<figure role="figure"><img src="../../images/components/popover/four-popovers/left-popover-horizontal-1.jpg" alt="Finding the trigger's left value."></figure>
<pre><code class="language-js">const popoverTriggerRect = popoverTrigger.getBoundingClientRect()
const triggerLeft = popoverTriggerRect.left
</code></pre>
<p>The trigger‚Äôs <code>left</code> value is a sum of the popover‚Äôs <code>left</code>, the popover‚Äôs <code>width</code>, and some breathing space.</p>
<figure role="figure"><img src="../../images/components/popover/four-popovers/left-popover-horizontal-2.jpg" alt="Finding the popover's left value."></figure>
<pre><code class="language-js">const space = 20
const popoverRect = popover.getBoundingClientRect()
const leftPosition = triggerLeft - popoverRect.width - space
</code></pre>
<p>Then we set the <code>left</code> position with <code>style</code>.</p>
<pre><code class="language-js">popover.style.left = `${leftPosition}px`
</code></pre>
<figure role="figure"><img src="../../images/components/popover/four-popovers/left-popover-left-done.png" alt="Set the left position of the left popover."></figure>
<p>Next, we need to calculate the left popover‚Äôs <code>top</code> position.</p>
<p>To calculate the <code>top</code> position, we need to know the center of the trigger.</p>
<figure role="figure"><img src="../../images/components/popover/four-popovers/left-popover-vertical-1.png" alt="Vertical center of the trigger."></figure>
<pre><code class="language-js">const triggerCenter = (popoverTriggerRect.top + popoverTriggerRect.bottom) / 2
</code></pre>
<p>We know the center of the popover is sum of the the popover‚Äôs <code>top</code> position and half of its <code>height</code>.</p>
<figure role="figure"><img src="../../images/components/popover/four-popovers/left-popover-vertical-2.png" alt="Vertical center of the popover."></figure>
<pre><code class="language-js">const topPosition = triggerCenter - popoverRect.height / 2
</code></pre>
<p>Then we‚Äôll set the <code>top</code> position</p>
<pre><code class="language-js">popover.style.top = `${topPosition}px`
</code></pre>
<figure role="figure"><img src="../../images/components/popover/four-popovers/left-popover.png" alt="Setting the left popover's top."></figure>
<p>We need to hide the popover after positioning it.</p>
<pre><code class="language-js">// Hides popover once it is positioned
popover.setAttribute('hidden', true)
</code></pre>
<p>We also have to add event listeners to the left popover and its trigger.</p>
<pre><code class="language-js">// Allows users to show/hide the popover
popoverTrigger.addEventListener('click', _ =&gt; {
  if (popover.hasAttribute('hidden')) {
    popover.removeAttribute('hidden')
  } else {
    popover.setAttribute('hidden', true)
  }
})

// Hides popover if user clicks outside of the trigger and the popover
document.addEventListener('click', event =&gt; {
  if (event.target.closest('.popover') || event.target.closest('.popover-trigger')) return
  popover.setAttribute('hidden', true)
})
</code></pre>
<h2 id="refactor">Refactor</h2>
<p>Code for the top and left popover are similar. It makes sense to refactor at this point, especially since we still need right and bottom popovers.</p>
<p>First, we need to be able to select all four triggers individually. We can do this with a <code>forEach</code> loop.</p>
<pre><code class="language-js">const popoverTriggers = document.querySelectorAll('.popover-trigger')

popoverTriggers.forEach(popoverTrigger =&gt; {
  // ...
})
</code></pre>
<p>Next, we need to find the popover the trigger links to. The best way to do this is give an <code>id</code> to each popover.</p>
<p>We can add a custom attribute to the trigger that points to this <code>id</code>. We‚Äôll call this attribute <code>data-target</code>.</p>
<pre><code class="language-html">&lt;!-- Popovers --&gt;
&lt;div id=&quot;pop-1&quot; class=&quot;popover&quot; data-position=&quot;top&quot;&gt;
  &lt;p&gt;The quick brown fox jumps over the lazy dog.&lt;/p&gt;
&lt;/div&gt;

&lt;div id=&quot;pop-2&quot; class=&quot;popover&quot; data-position=&quot;left&quot;&gt;
  &lt;p&gt;The quick brown fox jumps over the lazy dog.&lt;/p&gt;
&lt;/div&gt;
</code></pre>
<pre><code class="language-html">&lt;!-- Triggers --&gt;
&lt;button class=&quot;popover-trigger&quot; data-trigger=&quot;pop-1&quot; ... &gt; ... &lt;/button&gt;
&lt;button class=&quot;popover-trigger&quot; data-trigger=&quot;pop-2&quot; ... &gt; ... &lt;/button&gt;
</code></pre>
<p>We can find the popover with the <code>id</code> attribute.</p>
<pre><code class="language-js">popoverTriggers.forEach(popoverTrigger =&gt; {
  const popover = document.querySelector(`#${popoverTrigger.dataset.target}`)
  // ...
})
</code></pre>
<p>Next, we need to calculate each popover‚Äôs <code>top</code> and <code>left</code> position. We can leave the calculation to a dedicated function. We‚Äôll call this function <code>calculatePopoverPosition</code>.</p>
<pre><code class="language-js">const calculatePopoverPosition = _ =&gt; {
  // ...
}
</code></pre>
<p>We need to know three things to calculate the popover‚Äôs <code>top</code> and <code>left</code> position:</p>
<ol>
<li>The trigger‚Äôs bounding rectangle</li>
<li>The popover‚Äôs bounding rectangle</li>
<li>The amount of breathing space</li>
</ol>
<p>We can get (1) and (2) by passing the trigger and popover into the function. We can get (3) by declaring it directly in <code>calculatePopoverPosition</code>.</p>
<pre><code class="language-js">const calculatePopoverPosition = _ =&gt; {
  const popoverTriggerRect = popoverTrigger.getBoundingClientRect()
  const popoverRect = popover.getBoundingClientRect()
}
</code></pre>
<p>One function should only do one thing. This means <code>calculatePopoverPosition</code> should only calculate the <code>top</code> and <code>left</code> values for each popover. It should not set them.</p>
<p>For this to work, we‚Äôll return an object that contains the <code>top</code> and <code>left</code> values.</p>
<pre><code class="language-js">const calculatePopoverPosition = (popoverTrigger, popover) =&gt; {
  // ...
  return {
    top: 'some-value',
    left: 'some-value'
  }
}
</code></pre>
<p>We need to know where to position the popover (<code>top</code>, <code>right</code>, <code>bottom</code>, or <code>left</code>). We can get this information from the <code>data-position</code> custom</p>
<pre><code class="language-js">const calculatePopoverPosition = (popoverTrigger, popover) =&gt; {
  // ...
  const { position } = popover.dataset

  return {
    top: 'some-value',
    left: 'some-value'
  }
}
</code></pre>
<p>If position is <code>top</code>, we‚Äôll use the top popover‚Äôs calculation.</p>
<pre><code class="language-js">const calculatePopoverPosition = (popoverTrigger, popover) =&gt; {
  // ...
  if (position === 'top') {
    return {
      top: popoverTriggerRect.top - popoverRect.height - space,
      left: (popoverTriggerRect.left + popoverTriggerRect.right) / 2 - popoverRect.width / 2
    }
  }
  // ...
}
</code></pre>
<p>If the <code>position</code> is <code>left</code>, we‚Äôll use the left popover‚Äôs calculation.</p>
<pre><code class="language-js">const calculatePopoverPosition = (popoverTrigger, popover) =&gt; {
  // ...
  if (position === 'left') {
    return {
      left: popoverTriggerRect.left - popoverRect.width - space,
      top: (popoverTriggerRect.top + popoverTriggerRect.bottom) / 2 - popoverRect.height / 2
    }
  }
  // ...
}
</code></pre>
<p>Next, we will set the popover‚Äôs <code>top</code> and <code>left</code> values.</p>
<pre><code class="language-js">popoverTriggers.forEach(popoverTrigger =&gt; {
  // ...
  const popoverPosition = calculatePopoverPosition(popoverTrigger, popover)

  popover.style.top = `${popoverPosition.top}px`
  popover.style.left = `${popoverPosition.left}px`
})
</code></pre>
<figure role="figure"><img src="../../images/components/popover/four-popovers/top-and-left-done.png" alt="Set positions for top and left popover."></figure>
<p>Then we will hide the popover.</p>
<pre><code class="language-js">popoverTriggers.forEach(popoverTrigger =&gt; {
  // ...
  popover.setAttribute('hidden', true)
})
</code></pre>
<h3 id="the-event-listeners">The event listeners</h3>
<p>We wrote two event listeners. Here‚Äôs one of them:</p>
<pre><code class="language-js">popoverTrigger.addEventListener('click', _ =&gt; {
  if (popover.hasAttribute('hidden')) {
    popover.removeAttribute('hidden')
  } else {
    popover.setAttribute('hidden', true)
  }
})
</code></pre>
<p>We can continue to write one event listener for each trigger, but that‚Äôs inefficient. We can use event delegation instead.</p>
<p>To use event delegation, we need add an event listener to the common ancestor of all triggers. Since triggers can be placed anywhere, the common ancestor is the <code>document</code>.</p>
<pre><code class="language-js">document.addEventListener('click', event =&gt; {
  // ...
})
</code></pre>
<p>If a trigger got clicked, we need to find that trigger.</p>
<pre><code class="language-js">document.addEventListener('click', event =&gt; {
  const popoverTrigger = event.target.closest('.popover-trigger')
  if (!popoverTrigger) return
})
</code></pre>
<p>Next, we need to check whether the corresponding popover is shown or hidden. We can tell by checking the <code>hidden</code> attribute.</p>
<ul>
<li>If there‚Äôs a <code>hidden</code> attribute, we know popover is hidden. We show it by removing the <code>hidden</code> attribute.</li>
<li>If there‚Äôs no <code>hidden</code> attribute, we know the popover is shown. We hide it by adding the <code>hidden</code> attribute.</li>
</ul>
<pre><code class="language-js">document.addEventListener('click', event =&gt; {
  // ...
  const popover = document.querySelector(`#${popoverTrigger.dataset.target}`)
  if (popover.hasAttribute('hidden')) {
      popover.removeAttribute('hidden')
    } else {
      popover.setAttribute('hidden', true)
    }

})
</code></pre>
<figure role="figure"><img src="../../images/components/popover/four-popovers/show-hide-popovers.gif" alt="Show and hide the top and left popovers."></figure>
<p>Here‚Äôs the second event listener we wrote. This event listener hides the popover if the user clicks something other than the popover and the trigger.</p>
<pre><code class="language-js">// Hides popover if user clicks outside of the trigger and the popover
document.addEventListener('click', event =&gt; {
  if (event.target.closest('.popover') || event.target.closest('.popover-trigger')) return
  popover.setAttribute('hidden', true)
})
</code></pre>
<p>There‚Äôs nothing we can do to simplify this event listener, so we‚Äôll keep using it.</p>
<pre><code class="language-js">document.addEventListener('click', event =&gt; {
  // ...
  if (!event.target.closest('.popover') &amp;&amp; !event.target.closest('.popover-trigger')) {
    const popovers = [...document.querySelectorAll('.popover')]
    popovers.forEach(popover =&gt; popover.setAttribute('hidden', true))
  }
})
</code></pre>
<h2 id="the-right-popover">The right popover</h2>
<p>First, we need to make the right popover and it‚Äôs trigger.</p>
<pre><code class="language-html">&lt;!-- Trigger --&gt;
&lt;button class=&quot;popover-trigger&quot; data-target=&quot;pop-3&quot; data-popover-position=&quot;right&quot; &gt;
  &lt;svg viewBox=&quot;0 0 40 20&quot;&gt;
    &lt;use xlink:href=&quot;#arrow&quot;&gt;&lt;/use&gt;
  &lt;/svg&gt;
&lt;/button&gt;
</code></pre>
<pre><code class="language-html">&lt;!-- Popover --&gt;
&lt;div id=&quot;pop-3&quot; class=&quot;popover&quot; data-position=&quot;right&quot;&gt;
  &lt;p&gt;The quick brown fox jumps over the lazy dog.&lt;/p&gt;
&lt;/div&gt;
</code></pre>
<p>Next, we need to calculate the right popover‚Äôs <code>left</code> and <code>top</code> values.</p>
<p>To calculate the right popover‚Äôs <code>left</code> value, we need to know the trigger‚Äôs <code>right</code> value and the amount of space between the popover and the trigger.</p>
<figure>
  <img src="../../images/components/popover/four-popovers/right-popover-horizontal-1.jpg" alt="Popover's left value">
</figure>
<figure>
  <img src="../../images/components/popover/four-popovers/right-popover-horizontal-2.jpg" alt="Popover's left value should be equal to trigger's right value plus the space">
</figure>
<pre><code class="language-js">const calculatePopoverPosition = (popoverTrigger, popover) =&gt; {
  // ...
  if (position === 'right') {
    return {
      left: popoverTriggerRect.right + space,
    }
  }
}
</code></pre>
<p>To get the popover‚Äôs <code>top</code> value, we need to know the trigger‚Äôs center position. We also need the popover‚Äôs <code>height</code>.</p>
<p>This <code>top</code> value is the same as the left popover‚Äôs <code>top</code> value.</p>
<figure>
  <img src="../../images/components/popover/four-popovers/right-popover-vertical-1.jpg" alt="The trigger's center">
</figure>
<figure>
  <img src="../../images/components/popover/four-popovers/right-popover-vertical-2.jpg" alt="The popover's center">
</figure>
<pre><code class="language-js">const calculatePopoverPosition = (popoverTrigger, popover) =&gt; {
  // ...
  if (position === 'right') {
    return {
      left: triggerRect.right + space,
      top: (popoverTriggerRect.top + popoverTriggerRect.bottom) / 2 - popoverRect.height / 2
    }
  }
}
</code></pre>
<figure role="figure"><img src="../../images/components/popover/four-popovers/right-popover-done.png" alt="Completed the right popover."></figure>
<h2 id="the-bottom-popover">The bottom popover</h2>
<p>First, we need to make the HTML for the trigger and the popover.</p>
<pre><code class="language-html">&lt;!-- Trigger --&gt;
&lt;button class=&quot;popover-trigger&quot; data-target=&quot;pop-4&quot; data-popover-position=&quot;bottom&quot; &gt;
  &lt;svg viewBox=&quot;0 0 40 20&quot;&gt;
    &lt;use xlink:href=&quot;#arrow&quot;&gt;&lt;/use&gt;
  &lt;/svg&gt;
&lt;/button&gt;
</code></pre>
<pre><code class="language-html">&lt;!-- Popover --&gt;
&lt;div id=&quot;pop-4&quot; class=&quot;popover&quot; data-position=&quot;bottom&quot;&gt;
  &lt;p&gt;The quick brown fox jumps over the lazy dog.&lt;/p&gt;
&lt;/div&gt;
</code></pre>
<p>The <code>left</code> position of the bottom popover can be calculated the same way as the <code>left</code> position of the <code>top</code> popover.</p>
<pre><code class="language-js">const calculatePopoverPosition = (popoverTrigger, popover) =&gt; {
  // ...
  if (position === 'bottom') {
    return {
      left: (popoverTriggerRect.left + popoverTriggerRect.right) / 2 - popoverRect.width / 2,
    }
  }
}
</code></pre>
<p>The bottom popover‚Äôs <code>top</code> position is the sum of the trigger‚Äôs <code>bottom</code> and the space.</p>
<figure role="figure"><img src="../../images/components/popover/four-popovers/bottom-popover-vertical-1.jpg" alt="Bottom Popover's top position."></figure>
<figure role="figure"><img src="../../images/components/popover/four-popovers/bottom-popover-vertical-2.jpg" alt="Sum of the trigger's bottom and space values."></figure>
<pre><code class="language-js">const calculatePopoverPosition = (popoverTrigger, popover) =&gt; {
  // ...
  if (position === 'bottom') {
    return {
      left: (popoverTriggerRect.left + popoverTriggerRect.right) / 2 - popoverRect.width / 2,
      top: popoverTriggerRect.bottom + space
    }
  }
}
</code></pre>
<figure role="figure"><img src="../../images/components/popover/four-popovers/bottom-popover-done.png" alt="Set the bottom popover's position."></figure>
<p>That‚Äôs it!</p>
</article>
  </div>



  <div class="longform">
    <nav class="lesson-nav">

          <a href="../popover-one-popover/index.html" data-link-to="previous-lesson">
              <svg height="1em" viewbox="0 0 22 38">
                <path
          fill="currentColor"
          d="M18.9 38l3.1-3.1L6.1 19 22 3.1 18.9 0 0 19z"
        ></path>
              </svg>
              <span>üõ†Ô∏è Popover: Making one popover</span>
            </a>
          <a href="../popover-build-with-javascript/index.html" data-link-to="next-lesson">
              <span>üõ†Ô∏è Popover: Making popovers with JavaScript</span>
              <svg height="1em" viewbox="0 0 22 38">
                <path
          fill="currentColor"
          d="M3.1 0L0 3.1 15.9 19 0 34.9 3.1 38 22 19z"
        ></path>
              </svg>
            </a>
          </nav>
  </div>
</div>
    </main>



      <script module src="../../js/main-b9439821d7.mjs"></script>
      <script nomodule src="../../js/main-legacy-8c54230a8f.js"></script>
  </body>

<!-- /popover-four-popovers/  Mon, 24 Jan 2022 10:03:08 GMT -->
</html>
