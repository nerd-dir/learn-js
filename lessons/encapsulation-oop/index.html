<!DOCTYPE html>
<html lang="en" class="no-js">

<!-- /encapsulation-oop/  Mon, 24 Jan 2022 10:07:14 GMT -->
<!-- OpenDir --><meta http-equiv="content-type" content="text/html;charset=UTF-8" /><!-- /OpenDir -->
<head>
    <meta charset="UTF-8">
<meta content="IE=edge" http-equiv="X-UA-Compatible"/>
<meta content="width=device-width, initial-scale=1" name="viewport"/>

<title>Encapsulation in Object Oriented Programming | Learn JavaScript</title>
<meta name="description" content="Learn JavaScript student portal"/>
<link rel="canonical" href="index.html">


<!-- Favicons -->
<link rel="apple-touch-icon" sizes="180x180" href="../../favicons/apple-touch-icon.png">
<link rel="icon" type="image/png" sizes="32x32" href="../../favicons/favicon-32x32.png">
<link rel="icon" type="image/png" sizes="16x16" href="../../favicons/favicon-16x16.png">
<link rel="manifest" href="../../favicons/site.webmanifest">
<link rel="mask-icon" href="../../favicons/safari-pinned-tab.svg" color="#5bbad5">
<link rel="shortcut icon" href="../../favicons/favicon.ico">
<meta name="msapplication-TileColor" content="#ffc40d">
<meta name="msapplication-config" content="../../favicons/browserconfig.xml">
<meta name="theme-color" content="#ffffff">

<!-- CSS -->
<link rel="stylesheet" href="../../css/styles-min-afc4baccb2.css">

<!-- Fonts -->
<script>
  (function (d) {
    var config = {
        kitId: 'gas0cwl',
        scriptTimeout: 3000,
        async: true
      },
      h = d.documentElement,
      t = setTimeout(function () {
        h.className = h
          .className
          .replace(/\bwf-loading\b/g, "") + " wf-inactive";
      }, config.scriptTimeout),
      tk = d.createElement("script"),
      f = false,
      s = d.getElementsByTagName("script")[0],
      a;
    h.className += " wf-loading";
    tk.src = 'https://use.typekit.net/' + config.kitId + '.js';
    tk.async = true;
    tk.onload = tk.onreadystatechange = function () {
      a = this.readyState;
      if (f || a && a != "complete" && a != "loaded")
        return;
      f = true;
      clearTimeout(t);
      try {
        Typekit.load(config)
      } catch (e) {}
    };
    s
      .parentNode
      .insertBefore(tk, s)
  })(document);
</script>

<script>
  document
    .documentElement
    .classList
    .remove('no-js')
</script>

</head>

  <body class="page">
      <nav class="main-nav" data-js="menu" data-state="closed">
        <div>
          <a href="../index.html"><svg
  class="logo"
  data-size="small"
  height="1em"
  viewbox="0 0 273 43"
  xmlns="http://www.w3.org/2000/svg"
>
  <g transform="translate(-1 -10)" fill="none" fill-rule="evenodd">
    <rect fill="#F8E201" x="31" y="11" width="217" height="42" />
    <path
      d="M5.21 44.261v-5.217c0-2.726-.706-4.418-3.902-5.076v-3.76c3.196-.705 3.901-2.209 3.901-4.841v-6.11c0-4.606 2.68-8.178 8.695-8.178h1.551v3.995c-3.948 0-5.546 1.645-5.546 5.264v4.23c0 3.196-.94 6.345-4.136 7.473 3.102 1.175 4.136 4.042 4.136 7.05v4.089c0 4.183 1.598 5.828 5.546 5.828v3.995h-1.55c-5.782 0-8.696-3.243-8.696-8.742zm263.967-5.217l.141 5.217c-.141 5.499-2.961 8.742-8.789 8.742h-1.551v-3.995c3.948 0 5.499-1.645 5.499-5.828v-4.089c0-3.008 1.081-5.875 4.183-7.05-3.196-1.128-4.183-4.277-4.183-7.473v-4.23c0-3.619-1.551-5.264-5.499-5.264v-3.995h1.551c5.969 0 8.648 3.572 8.648 8.178v6.11c0 2.632.705 4.136 3.901 4.841v3.76c-3.196.658-3.901 2.35-3.901 5.076z"
      fill="#000"
      fill-rule="nonzero"
    />
    <path
      d="M29.82 52V11.5h7.74v34.56h17.46V52h-25.2zM58.2 37.78c0-8.16 3.54-16.32 13.68-16.32 8.4 0 12.18 5.1 12.18 13.62 0 .96-.06 1.92-.12 3H65.76c.06 7.44 3 9.36 6.54 9.36 2.76 0 5.52-1.2 5.52-4.2 0-.24-.06-.48-.06-.78l6 .84c.06.3.06.66.06 1.02 0 5.4-5.28 8.4-11.76 8.4-8.04 0-13.86-4.62-13.86-14.94zm13.62-11.7c-2.76 0-5.04 2.04-5.82 7.5h10.56v-1.02c0-3.48-1.38-6.48-4.74-6.48zM88.2 44.26c0-6.36 6.06-9.54 12.42-9.54 2.64 0 4.02.6 4.62.96v-4.32c0-3.42-1.32-5.1-4.44-5.1-3.66 0-4.8 2.4-3.96 5.7l-7.02-.78c-1.56-6.84 4.2-9.72 11.4-9.72 7.98 0 11.34 3.48 11.34 9.9v13.26c0 1.38.36 2.04 1.2 2.04 1.08 0 1.92-.96 1.92-.96l.42 5.22s-2.04 1.5-4.92 1.5c-2.94 0-4.98-1.5-5.46-4.62-1.56 2.94-4.56 4.92-8.46 4.92-5.16 0-9.06-3.48-9.06-8.46zm11.28 3.18c2.46 0 4.26-1.38 5.76-3.06v-5.16c-.6 0-1.38-.06-2.34-.06-4.8 0-7.44 1.44-7.44 4.62 0 2.46 1.62 3.66 4.02 3.66zM120.96 52V22.18h5.58l1.02 5.52c1.2-3.18 3.6-6.24 8.1-6.24 6.24 0 7.62 6.66 5.7 11.28l-6.3.84c.84-2.4.96-6-2.04-6-2.64 0-3.96 2.46-4.68 4.56V52h-7.38zm25.86 0V22.18h5.58l.9 4.86c2.22-3.24 4.68-5.58 9.36-5.58 5.04 0 8.88 2.82 8.88 9.18V52h-7.38V32.08c0-3.24-1.2-4.68-3.96-4.68-2.64 0-4.44 1.26-6 2.88V52h-7.38zm47.46-34.86V11.5h17.46v28.8c0 7.5-4.2 12.42-12.18 12.42-8.52 0-13.14-5.52-10.98-13.5l6.84-.72c-1.26 5.16-.06 8.4 3.96 8.4 3.06 0 4.62-1.92 4.62-5.58V17.14h-9.72zm23.94 22.62l6.9-.72c-1.08 4.26 1.2 7.98 8.1 7.98 5.46 0 7.2-2.4 7.2-5.16 0-3.66-3.3-5.04-8.04-6.66-5.76-1.98-13.44-4.38-13.44-12.84 0-7.2 5.52-11.7 14.88-11.58 11.04.12 14.94 6.42 13.74 13.32l-7.32.72c.78-5.76-1.56-8.46-6.96-8.46-4.56 0-6.54 2.04-6.54 5.04 0 4.02 3.72 5.34 8.4 6.9 6.06 1.98 13.02 4.32 13.02 12.36 0 6.84-5.1 12.06-15.24 12.06-9.48 0-16.08-4.5-14.7-12.96z"
      fill="#000"
      fill-rule="nonzero"
    />
  </g>
</svg>
</a>
          <button data-type="secondary" data-js="menu-button">Menu</button>
        </div>
        <div>
          <a href="../index.html">Contents</a>
          <a href="../../components/index.html">Components</a>
          <a href="../../community/index.html">Community</a>
          <a href="../../extras/index.html">Extras</a>
        </div>
        <div>
          <a href="../..https://nerd-dir.com">Account</a>
          <button data-type="secondary" data-js="logout">OpenDir</button>
        </div>
      </nav>

    <noscript>
      <div class="wrap">
        This portal uses JavaScript to check your identity. Please enable JavaScript to access the course.
      </div>
    </noscript>

    <main>
      <div class="wrap">
<div
  data-js="check-auth"
  data-required-authorization="mastery"
  data-auth-state="failure"
>
  <article class="longform" data-failed-content>
    <h1>Encapsulation in Object Oriented Programming</h1>
    <p>Hey <span data-js="user-data" data-field="firstName">,</p>
      <p>
      I'm thrilled to help you learn JavaScript. Unfortunately, you've landed on a page where you cannot access with your current purchase.
    </p>
      <p>
      Please upgrade (<a href="../../404/index.html" data-upgrade-link
        >use this link</a
      >) access this content.
    </p>

      <p>I'm super eager to help you learn more!</p>
    </article>

    <article class="longform" data-content>
      <h1>Encapsulation in Object Oriented Programming</h1>



      <div class="meta source-code">


      </div><p>When we use Object Oriented Programming, we need to be careful of leaking properties (instead of variables). We already saw how devastating it can be for users to mess with the <code>fuel</code> in our <code>Car</code> example.</p>
<pre><code class="language-js">class Car {
  constructor () {
    this.fuel = 50
  }

  addFuel (amount) {
    this.fuel = this.fuel + amount
    if (this.fuel &gt; 100) {
      console.log('Fuel Tank Capacity is 100 litres. Pouring away excess fuel')
      this.fuel = 100
    }
  }
}

// Instances can mess with `fuel` and set it way the max capacity of 100 litres
const car = new Car()
car.fuel = 5000
console.log(car.fuel)
</code></pre>
<figure role="figure">
  <img src="../../images/oop/encapsulation-oop/car-fuel-wrong.png" alt="Car has 5000 litres of fuel.">
</figure>
<p>The only way to prevent properties from leaking outside a class is to use closures.</p>
<h2 id="hiding-fuel">Hiding Fuel</h2>
<p>First, we’ll rewrite <code>Car</code> into Factory Functions before we continue, We’ll do this since closures are more obvious with Factory Functions.</p>
<pre><code class="language-js">// Current faulty implementation with Factory Functions
function Car () {
  return {
    fuel: 50,
    addFuel (amount) {
      this.fuel = this.fuel + amount
      if (this.fuel &gt; 100) {
        console.log('Fuel Tank Capacity is 100 litres. Pouring away excess fuel')
        this.fuel = 100
      }
    }
  }
}
</code></pre>
<p>Next, we’ll set <code>fuel</code> as a variable. We will not return <code>fuel</code> as a property. This ensures nobody outside <code>Car</code> can use the <code>fuel</code> variable.</p>
<pre><code class="language-js">function Car () {
  let fuel = 50

  return {
    addFuel (amount) {
      this.fuel = this.fuel + amount
      if (this.fuel &gt; 100) {
        console.log('Fuel Tank Capacity is 100 litres. Pouring away excess fuel')
        this.fuel = 100
      }
    }
  }
}
</code></pre>
<p>Next, we need to adjust <code>addFuel</code> to use the new <code>fuel</code> variable.</p>
<pre><code class="language-js">function Car () {
  let fuel = 50

  return {
    addFuel (amount) {
      fuel = fuel + amount
      if (fuel &gt; 100) {
        console.log('Fuel Tank Capacity is 100 litres. Pouring away excess fuel')
        fuel = 100
      }
    }
  }
}
</code></pre>
<p>We can still add fuel to <code>Car</code> instances. It works, but we can’t detect the amount of fuel yet.</p>
<pre><code class="language-js">const car = Car()
car.addFuel(300)
</code></pre>
<figure role="figure">
  <img src="../../images/oop/encapsulation-oop/car-add-fuel.png" alt="Adds excess fuel to the car. Excess was poured away.">
</figure>
<p>We cannot use the <code>fuel</code> property because <code>car</code> instances don’t have access to it. We can log a <code>car</code> instance to verify this.</p>
<pre><code class="language-js">const car = Car()
console.log(car.fuel) // undefined
console.log(car)
</code></pre>
<figure role="figure">
  <img src="../../images/oop/encapsulation-oop/car.png" alt="Logs car instance. Fuel property not exposed.">
</figure>
<p>We need another method to return <code>fuel</code> so users can see the amount of fuel left. Let’s name this <code>getFuel</code>.</p>
<pre><code class="language-js">function Car () {
  let fuel = 50

  return {
    // ...
    getFuel () {
      return fuel
    }
  }
}
</code></pre>
<p>We can now see the amount of fuel left in the car.</p>
<pre><code class="language-js">const car = Car()
car.addFuel(300)
console.log(car.getFuel()) // 100
</code></pre>
<figure role="figure">
  <img src="../../images/oop/encapsulation-oop/car-add-fuel-amount.png" alt="100 Litres of fuel in the car.">
</figure>
<h2 id="public%2C-private%2C-and-privileged-members">Public, Private, and Privileged members</h2>
<p>In Object Oriented Programming, we use three words to name properties and methods depending on whether they’re exposed.</p>
<ul>
<li><strong>Public</strong>: Properties that are exposed to users.</li>
<li><strong>Private</strong>: Variables that are completely hidden from users.</li>
<li><strong>Privileged</strong>: Methods that have access to private variables.</li>
</ul>
<p>In the <code>Car</code> example above:</p>
<ul>
<li><code>fuel</code> is a private variable</li>
<li><code>getFuel</code> and <code>addFuel</code> are privileged methods</li>
</ul>
<p>Variables, properties, and methods can also be called <strong>members</strong> in an Object Oriented Programming context.</p>
<h2 id="private-members-with-constructors%2C-classes%2C-and-oloo">Private members with Constructors, Classes, and OLOO</h2>
<p>If you want to create a private variable, you need to put the property inside the constructor function. Privileged functions (that need access to private properties) must be created within the constructor.</p>
<pre><code class="language-js">// Constructor Syntax
function Car () {
  let fuel = 50
  this.getFuel = function () {/* ... */}
  this.addFuel = function () {/* ... */}
}
</code></pre>
<pre><code class="language-js">// Class Syntax
class Car {
  constructor () {
    let fuel = 50
    this.getFuel = function () {/* ... */}
    this.addFuel = function () {/* ... */}
  }
}
</code></pre>
<pre><code class="language-js">// OLOO Syntax
const Car = {
  init () {
    let fuel = 50
    this.getFuel = function () {/* ... */}
    this.addFuel = function () {/* ... */}
  }
}
</code></pre>
<h3 id="private-member-syntax-for-classes">Private member syntax for Classes</h3>
<p>Classes let you create private properties and methods by prefixing the member with <code>#</code>. You can then get the private member with <code>this.#memberName</code>.</p>
<pre><code class="language-js">class Car = {
  // Creates a private property
  #fuel = 50

  getFuel () {
    // Uses a private property
    return this.#fuel
  }
}
</code></pre>
<p>If you want to create a private property inside a constructor, you need to define the property upfront first. Then, you use <code>this.#propertyName</code>  to change/access it.</p>
<pre><code class="language-js">class Car = {
  // Creates a private property
  #fuel = 50

  constructor (fuel) {
    // Changes the private property
    this.#fuel = fuel
  }
}
</code></pre>
<p>Note: <code>class</code> uses <code>=</code> to assign properties that are declared outside the constructor.</p>
<p>This syntax looks weird. I expected Classes to behave more like objects, so I expected <code>:</code> instead of <code>=</code>. But this syntax has already been accepted into the Class definition so there’s nothing much we can do about it.</p>
<p>One thing though: Standard (the linter we use) will complain about the syntax. If you want to use Classes, you need to switch Standard to another <a href="https://eslint.org/">ESLint configuration</a>.</p>
<figure role="figure" aria-label="Standard produces an error when you create Class properties with =. ">
  <img src="../../images/oop/encapsulation-oop/standard.png" alt="">
  <figcaption>Standard produces an error when you create Class properties with <code>=</code>. </figcaption>
</figure>
<h2 id="private-by-convention">Private by Convention</h2>
<p>If you observe code from open source projects, you may notice properties and methods that prefixed with an underscore (<code>_</code>).</p>
<p>Here’s an example:</p>
<pre><code class="language-js">class Car {
  constructor () {
    // Prefixed fuel with an underscore
    this._fuel = 50
  }
}
</code></pre>
<p><strong>Do not use these properties or methods.</strong></p>
<p>The <code>_</code> prefix symbolises private members. Developers don’t want you to touch them. We say they’re private by convention because they’re actually exposed to the public.</p>
<p>Why do developers use <code>_</code> instead of closures? Three possible reasons:</p>
<ol>
<li>They didn’t know how to use closures.</li>
<li>They didn’t want to use closures because you have to write all your code inside the constructor function.</li>
<li>They wrote the code before <code>#</code> came along.</li>
</ol>
<p>It doesn’t matter why developers choose the <code>_</code> prefix. <strong>It’s our onus to understand <code>_</code> is private by convention.</strong> We must not use them. If we use them, we must be prepared for our code to break without warning.</p>
</article>
  </div>



  <div class="longform">
    <nav class="lesson-nav">

          <a href="../closures/index.html" data-link-to="previous-lesson">
              <svg height="1em" viewbox="0 0 22 38">
                <path
          fill="currentColor"
          d="M18.9 38l3.1-3.1L6.1 19 22 3.1 18.9 0 0 19z"
        ></path>
              </svg>
              <span>Closures</span>
            </a>
          <a href="../getters-setters/index.html" data-link-to="next-lesson">
              <span>Getters and Setters</span>
              <svg height="1em" viewbox="0 0 22 38">
                <path
          fill="currentColor"
          d="M3.1 0L0 3.1 15.9 19 0 34.9 3.1 38 22 19z"
        ></path>
              </svg>
            </a>
          </nav>
  </div>
</div>
    </main>



      <script module src="../../js/main-b9439821d7.mjs"></script>
      <script nomodule src="../../js/main-legacy-8c54230a8f.js"></script>
  </body>

<!-- /encapsulation-oop/  Mon, 24 Jan 2022 10:07:16 GMT -->
</html>
