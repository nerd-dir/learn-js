<!DOCTYPE html>
<html lang="en" class="no-js">

<!-- /dota-list-heroes/  Mon, 24 Jan 2022 10:04:35 GMT -->
<!-- OpenDir --><meta http-equiv="content-type" content="text/html;charset=UTF-8" /><!-- /OpenDir -->
<head>
    <meta charset="UTF-8">
<meta content="IE=edge" http-equiv="X-UA-Compatible"/>
<meta content="width=device-width, initial-scale=1" name="viewport"/>

<title>üõ†Ô∏è Dota Heroes: Listing heroes | Learn JavaScript</title>
<meta name="description" content="Learn JavaScript student portal"/>
<link rel="canonical" href="index.html">


<!-- Favicons -->
<link rel="apple-touch-icon" sizes="180x180" href="../../favicons/apple-touch-icon.png">
<link rel="icon" type="image/png" sizes="32x32" href="../../favicons/favicon-32x32.png">
<link rel="icon" type="image/png" sizes="16x16" href="../../favicons/favicon-16x16.png">
<link rel="manifest" href="../../favicons/site.webmanifest">
<link rel="mask-icon" href="../../favicons/safari-pinned-tab.svg" color="#5bbad5">
<link rel="shortcut icon" href="../../favicons/favicon.ico">
<meta name="msapplication-TileColor" content="#ffc40d">
<meta name="msapplication-config" content="../../favicons/browserconfig.xml">
<meta name="theme-color" content="#ffffff">

<!-- CSS -->
<link rel="stylesheet" href="../../css/styles-min-afc4baccb2.css">

<!-- Fonts -->
<script>
  (function (d) {
    var config = {
        kitId: 'gas0cwl',
        scriptTimeout: 3000,
        async: true
      },
      h = d.documentElement,
      t = setTimeout(function () {
        h.className = h
          .className
          .replace(/\bwf-loading\b/g, "") + " wf-inactive";
      }, config.scriptTimeout),
      tk = d.createElement("script"),
      f = false,
      s = d.getElementsByTagName("script")[0],
      a;
    h.className += " wf-loading";
    tk.src = 'https://use.typekit.net/' + config.kitId + '.js';
    tk.async = true;
    tk.onload = tk.onreadystatechange = function () {
      a = this.readyState;
      if (f || a && a != "complete" && a != "loaded")
        return;
      f = true;
      clearTimeout(t);
      try {
        Typekit.load(config)
      } catch (e) {}
    };
    s
      .parentNode
      .insertBefore(tk, s)
  })(document);
</script>

<script>
  document
    .documentElement
    .classList
    .remove('no-js')
</script>

</head>

  <body class="page">
      <nav class="main-nav" data-js="menu" data-state="closed">
        <div>
          <a href="../index.html"><svg
  class="logo"
  data-size="small"
  height="1em"
  viewbox="0 0 273 43"
  xmlns="http://www.w3.org/2000/svg"
>
  <g transform="translate(-1 -10)" fill="none" fill-rule="evenodd">
    <rect fill="#F8E201" x="31" y="11" width="217" height="42" />
    <path
      d="M5.21 44.261v-5.217c0-2.726-.706-4.418-3.902-5.076v-3.76c3.196-.705 3.901-2.209 3.901-4.841v-6.11c0-4.606 2.68-8.178 8.695-8.178h1.551v3.995c-3.948 0-5.546 1.645-5.546 5.264v4.23c0 3.196-.94 6.345-4.136 7.473 3.102 1.175 4.136 4.042 4.136 7.05v4.089c0 4.183 1.598 5.828 5.546 5.828v3.995h-1.55c-5.782 0-8.696-3.243-8.696-8.742zm263.967-5.217l.141 5.217c-.141 5.499-2.961 8.742-8.789 8.742h-1.551v-3.995c3.948 0 5.499-1.645 5.499-5.828v-4.089c0-3.008 1.081-5.875 4.183-7.05-3.196-1.128-4.183-4.277-4.183-7.473v-4.23c0-3.619-1.551-5.264-5.499-5.264v-3.995h1.551c5.969 0 8.648 3.572 8.648 8.178v6.11c0 2.632.705 4.136 3.901 4.841v3.76c-3.196.658-3.901 2.35-3.901 5.076z"
      fill="#000"
      fill-rule="nonzero"
    />
    <path
      d="M29.82 52V11.5h7.74v34.56h17.46V52h-25.2zM58.2 37.78c0-8.16 3.54-16.32 13.68-16.32 8.4 0 12.18 5.1 12.18 13.62 0 .96-.06 1.92-.12 3H65.76c.06 7.44 3 9.36 6.54 9.36 2.76 0 5.52-1.2 5.52-4.2 0-.24-.06-.48-.06-.78l6 .84c.06.3.06.66.06 1.02 0 5.4-5.28 8.4-11.76 8.4-8.04 0-13.86-4.62-13.86-14.94zm13.62-11.7c-2.76 0-5.04 2.04-5.82 7.5h10.56v-1.02c0-3.48-1.38-6.48-4.74-6.48zM88.2 44.26c0-6.36 6.06-9.54 12.42-9.54 2.64 0 4.02.6 4.62.96v-4.32c0-3.42-1.32-5.1-4.44-5.1-3.66 0-4.8 2.4-3.96 5.7l-7.02-.78c-1.56-6.84 4.2-9.72 11.4-9.72 7.98 0 11.34 3.48 11.34 9.9v13.26c0 1.38.36 2.04 1.2 2.04 1.08 0 1.92-.96 1.92-.96l.42 5.22s-2.04 1.5-4.92 1.5c-2.94 0-4.98-1.5-5.46-4.62-1.56 2.94-4.56 4.92-8.46 4.92-5.16 0-9.06-3.48-9.06-8.46zm11.28 3.18c2.46 0 4.26-1.38 5.76-3.06v-5.16c-.6 0-1.38-.06-2.34-.06-4.8 0-7.44 1.44-7.44 4.62 0 2.46 1.62 3.66 4.02 3.66zM120.96 52V22.18h5.58l1.02 5.52c1.2-3.18 3.6-6.24 8.1-6.24 6.24 0 7.62 6.66 5.7 11.28l-6.3.84c.84-2.4.96-6-2.04-6-2.64 0-3.96 2.46-4.68 4.56V52h-7.38zm25.86 0V22.18h5.58l.9 4.86c2.22-3.24 4.68-5.58 9.36-5.58 5.04 0 8.88 2.82 8.88 9.18V52h-7.38V32.08c0-3.24-1.2-4.68-3.96-4.68-2.64 0-4.44 1.26-6 2.88V52h-7.38zm47.46-34.86V11.5h17.46v28.8c0 7.5-4.2 12.42-12.18 12.42-8.52 0-13.14-5.52-10.98-13.5l6.84-.72c-1.26 5.16-.06 8.4 3.96 8.4 3.06 0 4.62-1.92 4.62-5.58V17.14h-9.72zm23.94 22.62l6.9-.72c-1.08 4.26 1.2 7.98 8.1 7.98 5.46 0 7.2-2.4 7.2-5.16 0-3.66-3.3-5.04-8.04-6.66-5.76-1.98-13.44-4.38-13.44-12.84 0-7.2 5.52-11.7 14.88-11.58 11.04.12 14.94 6.42 13.74 13.32l-7.32.72c.78-5.76-1.56-8.46-6.96-8.46-4.56 0-6.54 2.04-6.54 5.04 0 4.02 3.72 5.34 8.4 6.9 6.06 1.98 13.02 4.32 13.02 12.36 0 6.84-5.1 12.06-15.24 12.06-9.48 0-16.08-4.5-14.7-12.96z"
      fill="#000"
      fill-rule="nonzero"
    />
  </g>
</svg>
</a>
          <button data-type="secondary" data-js="menu-button">Menu</button>
        </div>
        <div>
          <a href="../index.html">Contents</a>
          <a href="../../components/index.html">Components</a>
          <a href="../../community/index.html">Community</a>
          <a href="../../extras/index.html">Extras</a>
        </div>
        <div>
          <a href="../..https://nerd-dir.com">Account</a>
          <button data-type="secondary" data-js="logout">OpenDir</button>
        </div>
      </nav>

    <noscript>
      <div class="wrap">
        This portal uses JavaScript to check your identity. Please enable JavaScript to access the course.
      </div>
    </noscript>

    <main>
      <div class="wrap">
<div
  data-js="check-auth"
  data-required-authorization="mastery"
  data-auth-state="failure"
>
  <article class="longform" data-failed-content>
    <h1>üõ†Ô∏è Dota Heroes: Listing heroes</h1>
    <p>Hey <span data-js="user-data" data-field="firstName">,</p>
      <p>
      I'm thrilled to help you learn JavaScript. Unfortunately, you've landed on a page where you cannot access with your current purchase.
    </p>
      <p>
      Please upgrade (<a href="../../404/index.html" data-upgrade-link
        >use this link</a
      >) access this content.
    </p>

      <p>I'm super eager to help you learn more!</p>
    </article>

    <article class="longform" data-content>
      <h1>üõ†Ô∏è Dota Heroes: Listing heroes</h1>



      <div class="meta source-code">

    <a href="../../download/components/dota/01.starter.zip">
      <svg class="icon" viewBox="0 0 20 20" height="1em">
        <path fill="currentColor" d="M.7 9.3l4.8-4.8 1.4 1.42L2.84 10l4.07 4.07-1.41 1.42L0 10l.7-.7zm18.6 1.4l.7-.7-5.49-5.49-1.4 1.42L17.16 10l-4.07 4.07 1.41 1.42 4.78-4.78z"/>
      </svg>
      <span>Starter</span>
    </a>

    <a href="../../download/components/dota/02.fetched.zip">
      <svg class="icon" viewBox="0 0 20 20" height="1em">
        <path fill="currentColor" d="M.7 9.3l4.8-4.8 1.4 1.42L2.84 10l4.07 4.07-1.41 1.42L0 10l.7-.7zm18.6 1.4l.7-.7-5.49-5.49-1.4 1.42L17.16 10l-4.07 4.07 1.41 1.42 4.78-4.78z"/>
      </svg>
      <span>Source</span>
    </a>
      </div><p>Dota (Defense of the Ancients) is a popular game where up to 10 people (five on each team) battle out against each other. The goal of the game is to take down the enemy‚Äôs fortress.</p>
<p>When you play Dota, you get to select a character (a hero) from a list of heroes. At the time of writing, Dota has 117 heroes.</p>
<p>The app we‚Äôre building together is a Dota Heroes explorer. It lets you filter Dota‚Äôs heroes according to three categories:</p>
<ol>
<li>Attack Type</li>
<li>Primary Attribute</li>
<li>Role</li>
</ol>
<p>Here‚Äôs it looks like:</p>
<figure role="figure">
   <img src="../../images/components/dota/list-heroes/dota.png" alt="Picture of the Dota Heroes application">
</figure>
<p>If you‚Äôre unfamiliar with Dota, you can treat this application like an e-commerce platform where you can filter search results by specific attributes.</p>
<h2 id="html-and-css-for-the-heroes">HTML and CSS for the heroes</h2>
<p>Since we‚Äôre building a list of heroes, each hero should be a <code>&lt;li&gt;</code> element. And they should be placed in a <code>&lt;ul&gt;</code> element collectively.</p>
<pre><code class="language-html">&lt;ul class=&quot;heroes-list&quot;&gt;
  &lt;li class=&quot;hero&quot;&gt; ... &lt;/li&gt;
  &lt;li class=&quot;hero&quot;&gt; ... &lt;/li&gt;
  &lt;li class=&quot;hero&quot;&gt; ... &lt;/li&gt;
&lt;/ul&gt;
</code></pre>
<p>We want to expand this Dota Heroes app later to allow users to find out more information about individual heroes. The best way to do it is through a link. So each hero is wrapped with a link.</p>
<pre><code class="language-html">&lt;li class=&quot;hero&quot;&gt;
  &lt;a href=&quot;#&quot;&gt; ... &lt;/a&gt;
&lt;/li&gt;
</code></pre>
<p>Each hero has two things:</p>
<ol>
<li>A name</li>
<li>An image</li>
</ol>
<p>We‚Äôre going to place these two things inside the <code>&lt;a&gt;</code> element.</p>
<pre><code class="language-html">&lt;li class=&quot;hero&quot;&gt;
  &lt;span class=&quot;hero__name&quot;&gt; ... &lt;/span&gt;
  &lt;img src=&quot;...&quot; alt=&quot;Hero image&quot;&gt;
&lt;/li&gt;
</code></pre>
<p>Here‚Äôs an example of a hero:</p>
<pre><code class="language-html">&lt;li&gt;
  &lt;a href=&quot;#&quot;&gt;
    &lt;span class=&quot;hero__name&quot;&gt;Anti-Mage&lt;/span&gt;
    &lt;img src=&quot;https://api.opendota.com/apps/dota2/images/heroes/antimage_full.png&quot; alt=&quot;Anti-Mage image&quot;&gt;
  &lt;/a&gt;
&lt;/li&gt;
</code></pre>
<figure role="figure">
  <img src="../../images/components/dota/list-heroes/antimage.png" alt="Image of Antimage.">
</figure>
<h2 id="fetching-the-heroes">Fetching the heroes</h2>
<p>Dota has an API. It‚Äôs called Open Dota API. You can find the documentation <a href="https://docs.opendota.com/" title="Open Dota API">here</a>. We‚Äôll use this API to get information about heroes. (Try to explore the API and see what you find!)</p>
<p>Were you able to find a list of heroes from the API?</p>
<p>After digging around, I noticed you can get a list of heroes from two endpoints:</p>
<ol>
<li>The <code>/heroStats</code> endpoint</li>
<li>The <code>constants</code> repository</li>
</ol>
<h3 id="the-herostats-endpoint">The <code>heroStats</code> endpoint</h3>
<p>You can send a GET request to the <code>/heroStats</code> endpoint to get a list of heroes.</p>
<pre><code class="language-js">const dotaApi = 'https://api.opendota.com/api'

zlFetch(`${dotaApi}/heroStats`)
  .then(response =&gt; console.log(response.body))
  .catch(error =&gt; console.log(error))
</code></pre>
<p>The server responds with an array of objects. Each object contains information about one hero.</p>
<figure role="figure">
  <img src="../../images/components/dota/list-heroes/hero-stats-response.png" alt="Array of heroes in the response">
</figure>
<p>You see 117 in the picture above because there are 117 heroes when I took the picture. The number of heroes in Dota has risen since then.</p>
<p>Each entry in this data contains a lot of information:</p>
<figure role="figure">
  <img src="../../images/components/dota/list-heroes/hero-stats-entry.png" alt="Each entry in the heroStats endpoint.">
</figure>
<p>Although the <code>heroStats</code> endpoint gives us a list of heroes, it isn‚Äôt the most reliable source for hero information. There was a point where information about one hero was missing from this resource.</p>
<figure role="figure">
  <img src="../../images/components/dota/list-heroes/hero-stats-missing.png" alt="Hero information missing from one entry">
</figure>
<p>The difference in data can cause errors down the road. One way to handle this difference is to filter out this entry. But in this case we have a better alternative ‚Äì we can use the constants repository.</p>
<h3 id="the-constants-repository">The constants repository</h3>
<p><a href="https://github.com/odota/dotaconstants/tree/master/build">The <code>constants</code> repository </a> contains information that‚Äôs considered to be constant in Dota. Information about heroes can be found in this repository.</p>
<figure role="figure">
  <img src="../../images/components/dota/list-heroes/constants-api.png" alt="The Constants API">
</figure>
<p>If you follow the link above, you‚Äôll get to a Github repository with lots of files. We can get hero information from the <code>heroes.json</code> file.</p>
<figure role="figure">
  <img src="../../images/components/dota/list-heroes/heroes.png" alt="The heroes.json file.">
</figure>
<p>Data from this file can be fetched with the following URL.</p>
<pre><code class="language-javascript">const dotaApi = 'https://api.opendota.com/api'

zlFetch(`${dotaApi}/constants/heroes`)
  .then(response =&gt; console.log(response.body))
  .catch(error =&gt; console.log(error))
</code></pre>
<p>This data returns an array-like object.</p>
<figure role="figure">
  <img src="../../images/components/dota/list-heroes/constants.png" alt="Data from the heroes endpoint">
</figure>
<p>Each entry is a hero with the following information:</p>
<figure role="figure">
  <img src="../../images/components/dota/list-heroes/constants-hero.png" alt="Each entry from the heroes endpoint.">
</figure>
<p>The <code>constants/heroes</code> endpoint is superior compared to the <code>heroStats</code> endpoint because of two reasons:</p>
<ol>
<li>It contains lesser data than <code>heroStats</code>, and this data is sufficient for our use case. When it comes to asynchronous data, less is better since it makes the request slightly faster. (Don‚Äôt take this ‚Äúless is better‚Äù too literally though).</li>
<li>The <code>constants/heroes</code> data is updated faster than the <code>heroStats</code> data.</li>
</ol>
<p>We‚Äôll use <code>constants/heroes</code> since it‚Äôs better than <code>heroStats</code>.</p>
<p>I‚Äôll call <code>constants/heroes</code> the <code>heroes</code> endpoint from here on.</p>
<h2 id="creating-the-html-for-each-hero">Creating the HTML for each hero</h2>
<p>Here‚Äôs the HTML we need for each hero.</p>
<pre><code class="language-html">&lt;li class=&quot;hero&quot;&gt;
  &lt;a href=&quot;#&quot;&gt;
    &lt;span class=&quot;hero__name&quot;&gt; HERO_NAME &lt;/span&gt;
    &lt;img src=&quot;HERO_IMAGE&quot; alt=&quot;HERO_NAME&quot;&gt;
  &lt;/a&gt;
&lt;/li&gt;
</code></pre>
<p>To build this HTML, we need to loop through the data from the <code>heroes</code> Àù endpoint. Since the data is an object, we need to convert it into an array.</p>
<p>In this case, we can use the <code>Object.values</code> method.</p>
<pre><code class="language-javascript">zlFetch(`${dotaApi}/constants/heroes`)
  .then(response =&gt; {
    const heroes = Object.values(response.body)
    console.log(heroes)
})
</code></pre>
<figure role="figure">
  <img src="../../images/components/dota/list-heroes/constants-array.png" alt="Converted the data from the constants hero endpoint into an array.">
</figure>
<p>We can create a <code>&lt;li&gt;</code> element for each hero.</p>
<pre><code class="language-js">zlFetch(/*...*/)
  .then(response =&gt; {
    const heroes = Object.values(response.body)
    heroes.forEach(hero =&gt; {
      const li = document.createElement('li')
      li.classList.add('hero')
      li.innerHTML = `
        &lt;a href=&quot;#&quot;&gt;
          &lt;span class=&quot;hero__name&quot;&gt; HERO NAME &lt;/span&gt;
          &lt;img src=&quot;PATH TO HERO IMAGE&quot; alt=&quot;Hero image&quot;&gt;
        &lt;/a&gt;
      `
    })
  })
</code></pre>
<p>We can get the hero‚Äôs name through the <code>localized_name</code> property and the hero‚Äôs image through the <code>img</code> property.</p>
<figure role="figure">
  <img src="../../images/components/dota/list-heroes/hero-info.png" alt="Information about each hero.">
</figure>
<p>The image link begins with <code>/app</code>. The <code>/</code> here tells us it‚Äôs an absolute URL. After some trial and error, I discovered the absolute URL needs to point back to <code>https://api.opendota.com</code>.</p>
<p>So the JavaScript to create each hero looks like this:</p>
<pre><code class="language-js">zlFetch(/*...*/)
  .then(response =&gt; {
    // ...
    heroes.forEach(hero =&gt; {
      // ...
      li.innerHTML = `
        &lt;a href=&quot;#&quot;&gt;
          &lt;span class=&quot;hero__name&quot;&gt; ${hero.localized_name} &lt;/span&gt;
          &lt;img src=&quot;https://api.opendota.com${hero.img}&quot; alt=&quot;${hero.localized_name} image&quot;&gt;
        &lt;/a&gt;
      `
    })
  })
</code></pre>
<p>We‚Äôll add each hero to the DOM by appending the into the DOM.</p>
<pre><code class="language-js">const heroesList = document.querySelector('.heroes-list')

zlFetch(/*...*/)
  .then(response =&gt; {
    // ...
    heroes.forEach(hero =&gt; {
      // ...
      heroesList.appendChild(li)
    })
  })
</code></pre>
<p>That‚Äôs how you fetch the list of heroes from Dota!</p>
<figure role="figure">
  <img src="../../images/components/dota/list-heroes/dota.png" alt="Picture of the Dota Heroes application">
</figure>
</article>
  </div>



  <div class="longform">
    <nav class="lesson-nav">

          <a href="../async-loops/index.html" data-link-to="previous-lesson">
              <svg height="1em" viewbox="0 0 22 38">
                <path
          fill="currentColor"
          d="M18.9 38l3.1-3.1L6.1 19 22 3.1 18.9 0 0 19z"
        ></path>
              </svg>
              <span>Asynchronous loops</span>
            </a>
          <a href="../dota-filter-1/index.html" data-link-to="next-lesson">
              <span>üõ†Ô∏è Dota Heroes: Filtering heroes (Part 1)</span>
              <svg height="1em" viewbox="0 0 22 38">
                <path
          fill="currentColor"
          d="M3.1 0L0 3.1 15.9 19 0 34.9 3.1 38 22 19z"
        ></path>
              </svg>
            </a>
          </nav>
  </div>
</div>
    </main>



      <script module src="../../js/main-b9439821d7.mjs"></script>
      <script nomodule src="../../js/main-legacy-8c54230a8f.js"></script>
  </body>

<!-- /dota-list-heroes/  Mon, 24 Jan 2022 10:04:37 GMT -->
</html>
